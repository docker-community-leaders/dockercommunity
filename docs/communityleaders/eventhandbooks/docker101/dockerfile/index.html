<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.71.1" /><link rel="alternate" type="application/rss&#43;xml" href="https://docker-community-leaders.github.io/dockercommunity/docs/communityleaders/eventhandbooks/docker101/dockerfile/index.xml">
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="../../../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../../../favicons/android-192x192.png" sizes="192x192">

<title>Getting Started with Dockerfile | </title><meta property="og:title" content="Getting Started with Dockerfile" />
<meta property="og:description" content="Getting Started with Dockerfile" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docker-community-leaders.github.io/dockercommunity/docs/communityleaders/eventhandbooks/docker101/dockerfile/" />

<meta itemprop="name" content="Getting Started with Dockerfile">
<meta itemprop="description" content="Getting Started with Dockerfile"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting Started with Dockerfile"/>
<meta name="twitter:description" content="Getting Started with Dockerfile"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-148338258-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="../../../../../scss/main.min.307b0b0d242a65900fe540cf3bf1e7061a5d6901e7cdeaa10d3564f82e04c5fa.css" as="style">
<link href="../../../../../scss/main.min.307b0b0d242a65900fe540cf3bf1e7061a5d6901e7cdeaa10d3564f82e04c5fa.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>






  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../../../../">
		<span class="navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="119.31578826904297" height="31.3157901763916" preserveAspectRatio="xMidYMid"><rect id="backgroundrect" width="100%" height="100%" x="0" y="0" fill="none" stroke="none"/><g class="currentLayer"><title>Layer 1</title><g id="svg_1" stroke-width="1" fill="#fff" fill-opacity="1"><path d="M32.49763712692629 7.412704944610596l.8814475139952265.5960555076599121C34.91204489166239 9.16362190246582 35.793500122625574 10.46749496459961 35.985116295484204 11.957637786865234c1.647927639365662-.29802799224853516 3.7557209747465095-.07450485229492188 4.6755063855525805.521550178527832l.8431250511202961.48429393768310547-.1532898514997214.29802894592285156c-.2682765325444052.5588064193725586-.34491759981028736.7078218460083008-.3832400626852177.7823286056518572C39.4725800301062 16.83785057067871 36.5216539266371 16.875104904174805 35.141995102847886 16.83785057067871 31.654514005047986 24.996379852294922 24.21968804267499 29.504066467285156 14.178838142707264 29.504066467285156c-4.637179099572675.0-8.162985071799994-1.3783855438232457-10.539062656693204-4.097896575927731C.4972193734039365 21.829832077026367.4972193734039365 17.17313575744629.7654898469227192 15.682995796203613L.8421354961383258 15.384965896606445H28.55028261614325c1.4563095372650423.0 2.5677034039617865-.37253475189208807 3.104231388904733-.6705608367919922-.5748504478178766-.8195810317993146-.7664801253704319-1.7509231567382795-.8048025882453622-2.2724714279174787C30.734736311209872 10.95179557800293 31.117986020105036 9.3871431350708 31.884460357749504 8.269536018371582L32.49763712692629 7.412704944610596zM56.50566462920369 9.14251708984375c.3091726042330265.0.5709090064337943.09679603576660156.7852092066023104.29039669036865234.21430791713645903.19359493255615412.32145801722071354.4380474090576172.32145801722071354.7333660125732422V19.38015365600586c0 1.535650253295902-.5761719785805326 2.835031509399414-1.7285159357415978 3.898172378540039C54.717419361474185 24.354598999023438 53.32619280271729 24.892724990844727 51.71009379769066 24.892724990844727c-1.6301516036764951.0-3.0213781624333933-.5381259918212855-4.173737553530373-1.6143989562988281C46.384004570031266 22.202058792114258 45.807851883870626 20.902679443359375 45.807851883870626 19.38015365600586c0-1.522531509399414.5761526861606399-2.821908950805664 1.7285043602896621-3.898180007934572 1.1523593910969794-1.0762691497802717 2.5435859498538775-1.614395141601559 4.173737553530373-1.614395141601559 1.3982721505017253.0 2.631405045205611.4035940170288068 3.699444985919399 1.2108001708984357V10.166279792785645c0-.295318603515625.1036388796637766-.5397710800170881.3109166389913298-.7333660125732422C55.92773704041292 9.239313125610352 56.18947730109767 9.14251708984375 56.50566462920369 9.14251708984375zm8.263568514463259 4.725061416625978c1.6160951465426479.0 3.0073255637835246.5381259918212873 4.1737221195944585 1.614395141601559C69.5191349588099 16.02010726928711 69.94951026177705 16.6140193939209 70.23408117216286 17.263715744018555c.28456319341785274.6497001647949219.43036758599919267 1.355173110961914.4373977438081056 2.1164379119873047.0 1.535650253295902-.5761642616125755 2.835031509399414-1.7285236527095549 3.898172378540039C67.77655870745048 24.354598999023438 66.3853282902096 24.892724990844727 64.76923314366695 24.892724990844727c-1.6301631791284308.0-3.021382020917372-.5381259918212855-4.173733695046394-1.6143989562988281C59.44314391600756 22.202058792114258 58.86697965439498 20.902679443359375 58.86697965439498 19.38015365600586c0-1.522531509399414.5761642616125755-2.821908950805664 1.7285197942255763-3.898180007934572C61.74785112274958 14.405704498291016 63.13906996453852 13.867578506469727 64.76923314366695 13.867578506469727zm13.038048872549552.0c1.4826147517887875.0 2.764904732379364.446250915527342 3.8470088471949566 1.3387718200683576.25295449266559444.21000099182129084.379420163546456.46922206878662287.379420163546456.7776622772216797.0.295318603515625-.1036388796637766.541412353515625-.3109089220233727.7382907867431641-.2072854762955103.19687843322753906-.4690218784962781.295318603515625-.7852169235702604.295318603515625-.2670148082834203.0-.5059012683632318-.07875442504882812-.7167056820471771-.2362537384033203C79.8625112243576 16.499174118041992 79.48660999819958 16.285890579223633 79.09312180206734 16.141515731811523c-.3934573282604106-.144378662109375-.822088596469257-.2165699005126953-1.2858397858508397-.2165699005126953-.5129237092041876.0-.994246434624074.090240478515625-1.4439373083878309.2707080841064453-.44968315679579973.18047714233398438-.8431713529280387.4265727996826172-1.1804568714287598.7382926940917969-.3372700845648069.3117237091064453-.6025177071860526.6775894165039062-.795742867863737 1.0975914001464844C74.19392752482645 18.45154571533203 74.09731108600363 18.90108299255371 74.09731108600363 19.38015365600586s.09661643882282078.9285984039306641.28983388253254816 1.3486156463623047c.19322516067768447.42000389099121094.45847278329893015.7858695983886719.795742867863737 1.0975875854492188.3372855185007211.3117256164550781.73077371463296.5578193664550781 1.1804568714287598.7382869720458984.4496908737637568.18047142028808594.9310135991836432.2707099914550781 1.4439373083878309.2707099914550781.46375118938158266.0.8923824575904291-.07054519653320312 1.2858397858508397-.21164703369140625.39348819613223895-.1410961151123047.7658859188377392-.35272979736328125 1.117224035988329-.6349277496337891.1967209471622482-.13780975341796875.4286004003370181-.2100048065185547.6956229255883954-.2165660858154297.3162027620419394.0.577923730306793.09680557250976562.7851937726663891.29039573669433594.20731634416733868.19359970092773438.3109397898952011.4380474090576172.3109397898952011.7333660125732422.0.2887554168701172-.11594744355534203.5414142608642578-.3478114627941977.7579822540283203C80.56518745865878 24.44647216796875 79.28284345929251 24.892724990844727 77.8072820162165 24.892724990844727c-1.6301400282245595.0-3.0213858794013504-.5381259918212855-4.1737221195944585-1.6143989562988281C72.48120822249302 22.202058792114258 71.90503624391249 20.902679443359375 71.90503624391249 19.38015365600586c0-1.522531509399414.5761719785805326-2.821908950805664 1.7285236527095549-3.898180007934572C74.78589613681515 14.405704498291016 76.17714198799194 13.867578506469727 77.8072820162165 13.867578506469727zM84.38448467391981 9.14251708984375c.3021424464241136.0.5603521942684893.10007953643798828.7746909792767838.30023765563964844.21430791713646613.20016002655029297.32145801722072065.4446134567260742.32145801722072065.7333688735961914V17.85434913635254L91.78337464575861 14.0250825881958C91.95903598736595 13.92008113861084 92.15577236846411 13.867578506469727 92.37359922298901 13.867578506469727c.15458630211651325.0.2986157920677357.026250839233394885.4321270546934244.07875442504882812.1335112626256887.052497863769529474.24943555527715944.12632846832275213.34780374582625484.22148609161376775.09837590751702407.09515666961669922.1774285272694982.2050771713256836.23716557622536527.3297710418701154.059713898051995784.12468624114990412.08957084707799368.2559385299682635.08957084707799368.39375019073486506.0.3675079345703107-.14051055256275902.6398582458496094-.42157024252811937.8170461654663068L88.6425378193494 18.38591957092285l4.532090394553961 4.764432907104492c.2037511049711611.21001625061035156.3056382329086773.44954681396484375.3056382329086773.7186088562011719.0.1378173828125-.029856949025997892.2690677642822301-.08957084707799368.3937549591064453C93.33095855077818 24.38740348815918 93.2519059310257 24.497331619262695 93.15353002350867 24.592483520507812 93.05516183295958 24.68764305114746 92.93923754030811 24.761472702026367 92.80572627768242 24.8139705657959 92.67221501505674 24.866479873657227 92.52818552510553 24.892724990844727 92.37359922298901 24.892724990844727c-.2950968546792865.0-.5410366234718822-.08859062194824219-.7377884385059446-.2657814025878906l-4.86932961124694-5.108970642089844-1.2858475028187968.7875041961669922V23.85911750793457c0 .2821941375732422-.10715010008425452.5249996185302734-.32145801722072065.7284469604492188-.2143387850082945.20344161987304688-.4725485328526702.3051605224609375-.7746909792767838.3051605224609375-.3091494533291552.0-.5708935724978801-.10171890258789062-.7852014896343462-.3051605224609375C83.38495983321309 24.384117126464844 83.27782516706475 24.141311645507812 83.27782516706475 23.85911750793457V10.17612361907959c0-.2887554168701172.10713466614834033-.5332088470458984.32145801722072065-.7333688735961914C83.81359110142193 9.242596626281738 84.07533522059066 9.14251708984375 84.38448467391981 9.14251708984375zm16.1894347941561 4.725061416625978c1.6161182974465191.0 3.0073255637835246.5381259918212873 4.17372983656243 1.614395141601559.5761642616125755.5315723419189471 1.008314467209857 1.123838424682619 1.2963965980161305 1.7768211364746112.28808213080630196.6529865264892578.4321193377254673 1.3600940704345703.4321193377254673 2.121358871459961.0.295318603515625-.10714238311629742.5397758483886719-.32146573418867774.733367919921875-.21429248320053773.19359970092773438-.4760443193372197.29039955139160156-.7852092066023033.29039955139160156H97.02204606040004c.11944323003991997.3609428405761719.29510457164722936.6907024383544922.5269840248220135.9892978668212891.2318794531747841.2986049652099574.5041263657331001.5545387268066406.8168333412904616.7678337097168004.31265295678167604.2132854461669922.6569686330913243.37898254394530895 1.0328775762173024.4971103668212855.3759243770618923.11812782287597656.7676376705639996.17719078063964844 1.175178465346093.17719078063964844.4637589063495682.0.8888558032340512-.0656204223632777 1.275298407621463-.19687843322753906.38645803832332604-.13124847412109375.7448108793469004-.3281269073486328 1.0750662400387228-.5906352996826172.210796696715974-.16405487060546875.4532020941842205-.24937057495117188.7272470602765821-.25594329833984375.31617961113805393.0.5779005794029217.0968017578125.785216923570232.29039764404296875.20727004235961033.19359779357910156.31090120505542984.4380512237548828.31090120505542984.733367919921875.0.28875923156737926-.10542149926186539.5348472595214844-.31618732810602523.7382946014404297-1.0891111217206344.8925151824951172-2.374950907571474 1.3387680053710938-3.8575425084564046 1.3387680053710938-1.6301554621604737.0-3.021370445465436-.5381259918212855-4.173714402626473-1.6143989562988281C95.2478533913204 22.202058792114258 94.67168141273987 20.902679443359375 94.67168141273987 19.38015365600586c0-1.522531509399414.5761719785805184-2.821908950805664 1.7285236527095549-3.898180007934572 1.1523439571610368-1.0762691497802717 2.5435589404659993-1.614395141601559 4.173714402626473-1.614395141601559zm13.016989266994642.0c.3091803212009978.0.6411797166511235.019685745239256036.9959827524144487.0590629577636701.35484162060309643.03938007354736328.6815780439064696.10992622375488104.9802092699101195.21164608001708984.29864665993953565.10171699523925781.5463073125865492.24117469787597656.7430668445885971.4183654785156232.1967132301942769.1771907806396502.29511228861520067.4068756103515643.29511228861520067.6890668869018572.0.1443805694580078-.029895533865783364.27890968322753906-.08960171494982205.4036026000976545-.05974476592382416.12468719482422053-.138774234772427.23461246490478693-.2371347083535369.32976913452148615-.09839905842092378.09515762329101562-.21430791713648034.16898536682128906-.3478268967301261.22148704528808594-.1334958286897745.05249977111816406-.2775407525768969.0787506103515625-.43214248862931015.0787506103515625-.13348811172183161.0-.2880589799024307-.03609275817871094-.4637280384777256-.10828208923339844-.4426838668587152-.16406631469726562-.9239911583426874-.24610137939453125-1.443937308387845-.24610137939453125-.5129314261721163.0-.994261868559974.090240478515625-1.4439373083878166.2707080841064453-.4497063076996568.18047714233398438-.8414196012017783.4265727996826172-1.1751861823140644.7382926940917969-.3337511471763719.3117237091064453-.5972315841354288.6775894165039062-.7904876126849558 1.0975914001464844C109.98807247100603 18.45154571533203 109.8914405982473 18.90108299255371 109.8914405982473 19.38015365600586v4.488807678222656c0 .28219032287597656-.10713466614834033.5233669281005859-.32145030025276355.7235221862792969-.21430020016849483.2001667022705078-.4725408158847131.30024147033691406-.7746755453408554.30024147033691406-.3091494533291552.0-.570870421594023-.10007476806640625-.7852014896343604-.30024147033691406C107.79581306285081 24.3923282623291 107.68866296276656 24.151151657104492 107.68866296276656 23.868961334228516V14.891340255737305c0-.28219127655029297.10715010008424031-.5233631134033203.32145030025276355-.7235212326049805.2143310680403374-.20016002655029297.4760520363052052-.3002405166625959.7852014896343604-.3002405166625959.3021347294561423.0.5603753451723605.10008049011230291.7746755453408554.3002405166625959.21431563410442322.20015811920166016.32145030025276355.4413299560546875.32145030025276355.7235212326049805v.1968832015991211c.5269994587579419-.39376068115234375 1.0996602169179823-.6956338882446289 1.7179977084160782-.9056415557861346.6183374914980959-.2100019454956037 1.2788096280419268-.31500339508056285 1.981470428407178-.31500339508056285zm-61.880814937379895 2.0573673248291c-.5199654424650362.0-1.004795529821422.09187698364257812-1.4544902620691573.2756328582763672-.4496908737637568.18375205993652344-.8396524155396037.4314842224121094-1.1699039177474333.7432117462158203-.3302437852398725.31172752380371094-.5919840459246188.6775836944580078-.7852092066023033 1.0975933074951172-.19322516067768447.420013427734375-.2898454579844838.8662624359130859-.2898454579844838 1.3387699127197266.0.47250938415527344.09662029730679933.9187564849853516.2898454579844838 1.338766098022461.19322516067768447.42000579833984375.4549654213624308.785863876342777.7852092066023033 1.0975933074951207.3302515022078296.31172180175780895.7202130439836765.5594577789306605 1.1699039177474333.7432174682617152.4496947322477354.18375015258789062.9345248196041211.2756233215332031 1.4544902620691573.2756233215332031.5129237092041876.0.9942387176561169-.0918731689453125 1.4439295914198738-.2756233215332031.4496985907317139-.1837596893310547.841438893621671-.4331340789794922 1.1751784653461073-.7481403350830078.3337704395962646-.3150043487548828.5972547350393071-.6808624267578125.7904876126849558-1.0975875854492188C55.31291462781928 20.29726791381836 55.40953878361006 19.852663040161133 55.40953878361006 19.38015365600586c0-.4725074768066406-.09662415579077788-.9171218872070312-.28984931646846235-1.3338489532470703-.19323287764564867-.41672515869140625-.4567171730886912-.7825870513916016-.7904876126849558-1.0975933074951172-.33373957172443625-.3150043487548828-.7254798746143933-.5643806457519531-1.1751784653461073-.7481327056884766-.4496908737637568-.18375587463378906-.9310058822156861-.2756328582763672-1.4439295914198738-.2756328582763672zm13.059139345976291.0c-.5199731594329933.0-1.0047878128534649.09187698364257812-1.4544864035851788.2756328582763672-.4496985907317139.18375205993652344-.8396678494755179.4314842224121094-1.169915493199376.7432117462158203-.3302360682719083.31172752380371094-.5919724704726761.6775836944580078-.7851976311503606 1.0975933074951172-.19322901916166302.420013427734375-.289860891920398.8662624359130859-.289860891920398 1.3387699127197266.0.47250938415527344.09663187275873497.9187564849853516.289860891920398 1.338766098022461.19322516067768447.42000579833984375.45496156287845224.785863876342777.7851976311503606 1.0975933074951207.3302476437238582.31172180175780895.7202169024676621.5594577789306605 1.169915493199376.7432174682617152.4496985907317139.18375015258789062.9345132441521855.2756233215332031 1.4544864035851788.2756233215332031.5129314261721447.0.9942387176561169-.0918731689453125 1.4439373083878309-.2756233215332031C66.66286132581854 22.3759708404541 67.0545823362886 22.126596450805664 67.38834120043293 21.81159019470215c.33377429808024317-.3150043487548828.5972624520072713-.6808624267578125.7904876126849558-1.0975875854492188C68.37205397379557 20.29726791381836 68.46866269565044 19.852663040161133 68.46866269565044 19.38015365600586c0-.4725074768066406-.09660872185486369-.9171218872070312-.28983388253254816-1.3338489532470703C67.9856036524402 17.629579544067383 67.72211549851318 17.263717651367188 67.38834120043293 16.948711395263672 67.0545823362886 16.63370704650879 66.66286132581854 16.38433074951172 66.21317045205478 16.200578689575195 65.76347186132307 16.016822814941406 65.2821645698391 15.924945831298828 64.76923314366695 15.924945831298828zm35.80468632440896.0c-.4005106369731948.0-.7904567448131132.0590667724609375-1.1699000592634405.17719078063964844-.3794278805144131.11812782287597656-.7272547772445108.2838306427001953-1.043426671414636.4971199035644531-.31618732810603944.21328163146972656-.5902322941983584.4692249298095703-.8221194643410712.767822265625-.2318640192388699.2985992431640625-.4040064234577727.6283683776855469-.5164272126567226.9893074035644531h7.103762249287669c-.11942779610397736-.36093902587890625-.29685632337348977-.6907081604003906-.5322392800007947-.9893074035644531-.23539067359523358-.2985973358154297-.5094356396875526-.5545406341552734-.8221117473731141-.767822265625-.31266839071760444-.2132892608642578-.65696863309131-.37899208068847656-1.0328930101532023-.4971199035644531-.3759243770618781-.11812400817871094-.7641341671114787-.17719078063964844-1.1646448040846877-.17719078063964844zm-92.52688374349235-5.01040744781494v3.725358009338377H3.831400099306393V10.914538383483887H8.047035724583566zm4.982094770140975.0v3.725358009338377H8.813513920712012V10.914538383483887H13.02913049472454zm4.982094770140975.0v3.725358009338377H13.795604832369008V10.914538383483887h4.215620432496507zm4.982099593245948.0v3.725358009338377H18.77771310720391V10.914538383483887h4.215611750907556zm4.982107310213905.0v3.725358009338377H23.7598049834819V10.914538383483887h4.21562718484347zM22.993324858111464 6.444112300872803v3.725353717803955H18.77771310720391V6.444112300872803h4.215611750907556zm-4.982099593245948.0v3.725353717803955H13.795604832369008V6.444112300872803h4.215620432496507zm-4.982094770140975.0v3.725353717803955H8.813513920712012V6.444112300872803H13.02913049472454zm9.964194363386923-4.4704270362854V5.699040412902832H18.77771310720391V1.9736852645874023h4.215611750907556z" fill="#fff" id="svg_2" stroke-width="1" fill-opacity="1"/></g></g></svg></span><span class="text-uppercase font-weight-bold"></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a  class="nav-link" href="../../../../../about/" ><span>About</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a  class="nav-link" href="../../../../../docs/" ><span>Home</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a  class="nav-link" href="../../../../../blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a  class="nav-link" href="../../../../../community/" ><span>Community</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Home</a>
  </li>
  <ul>
    <li class="collapse show" id="docs">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker Captains</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptains">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/projects/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Projects</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsprojects">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/resources/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Resources</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsresources">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/resources/getting-started/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Briefings(Private)</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsresourcesgetting-started">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/resources/coc/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Code of Conduct(Private)</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsresourcescoc">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/resources/cfp/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">CFP Schedule(Private)</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsresourcescfp">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/resources/mobilize/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Mobilize(Private)</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsresourcesmobilize">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/captains/newsfeed/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">NewsFeed</a>
  </li>
  <ul>
    <li class="collapse " id="docscaptainsnewsfeed">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Community Leaders Program</a>
  </li>
  <ul>
    <li class="collapse show" id="docscommunityleaders">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/projects/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Projects</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersprojects">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/resources/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Resources</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersresources">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/resources/guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Community Leaders Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersresourcesguidelines">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/resources/chapter/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quickstart Your Own Meetup Chapter</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersresourceschapter">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/resources/mobilize/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Mobilize</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersresourcesmobilize">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/resources/conduct-a-virtual-meetup/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Conduct a Virtual Meetup</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersresourcesconduct-a-virtual-meetup">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/resources/speakers/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Speaker Guidelines</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleadersresourcesspeakers">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Event Handbooks</a>
  </li>
  <ul>
    <li class="collapse show" id="docscommunityleaderseventhandbooks">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Docker for Beginners</a>
  </li>
  <ul>
    <li class="collapse show" id="docscommunityleaderseventhandbooksdocker101">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/checklists/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Your Event Checklist</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101checklists">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/agenda/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Recommended Agenda</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101agenda">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/prerequisite/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Pre-requisite</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101prerequisite">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/gettingstarted/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started with Docker Image</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101gettingstarted">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/accessing-and-managing/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Accessing &amp; Managing Docker Image</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101accessing-and-managing">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/dockerfile/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Getting Started with Dockerfile</a>
  </li>
  <ul>
    <li class="collapse show" id="docscommunityleaderseventhandbooksdocker101dockerfile">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/registry/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Creating Private Docker Registry </a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101registry">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker101/networking/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker Networks</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker101networking">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/nodejs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker for NodeJS developers</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksnodejs">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker201/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker for Intermediate</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker201">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker201/checklists/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Your Event Checklist</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker201checklists">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/docker301/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker for Advanced </a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksdocker301">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Java</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjava">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/checklists/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Event Checklist</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavachecklists">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/agenda/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Recommended Agenda</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavaagenda">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/prerequisite/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Pre-requisite</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavaprerequisite">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/basics-of-docker/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Basics of Docker</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavabasics-of-docker">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/building/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Building and Running a Docker Container</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavabuilding">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/compose/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Multi-Container Application using Docker Compose</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavacompose">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/swarm/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploy Application using Docker Swarm Mode</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavaswarm">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/netbeans/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker &amp; Netbeans</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavanetbeans">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/intellij/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker and IntelliJ</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavaintellij">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/java/eclipse/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Docker &amp; Eclipse</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksjavaeclipse">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/go/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">GoLang</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbooksgo">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Kubernetes</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/checklists/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Event Checklist</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101checklists">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/pods101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploying Your First Nginx Pod</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101pods101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/service101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploying Your First Kubernetes Service</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101service101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/deployment101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploying Your First Nginx Deployment</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101deployment101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/replicaset101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploying Your First Nginx ReplicaSet</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101replicaset101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/statefulsets101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Deploying Your First Statefulset Application</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101statefulsets101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/scheduler101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Understand Kubernetes Scheduling</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101scheduler101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communityleaders/eventhandbooks/kube101/ingress101/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section"></a>
  </li>
  <ul>
    <li class="collapse " id="docscommunityleaderseventhandbookskube101ingress101">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/contribution-guidelines/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Contribute Code &amp; Conduct</a>
  </li>
  <ul>
    <li class="collapse " id="docscontribution-guidelines">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/contribution-guidelines/contribute/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">How to Contribute </a>
  </li>
  <ul>
    <li class="collapse " id="docscontribution-guidelinescontribute">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communicate/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Communicate &amp; Share</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunicate">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communicate/slack/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Slack</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunicateslack">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communicate/mobilize/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Mobilize</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunicatemobilize">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/communicate/social/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Social Media</a>
  </li>
  <ul>
    <li class="collapse " id="docscommunicatesocial">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/events/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Community Events</a>
  </li>
  <ul>
    <li class="collapse " id="docsevents">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../../docs/devpreview/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Dev Preview Program</a>
  </li>
  <ul>
    <li class="collapse " id="docsdevpreview">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            
  
  
  
  
  
  <div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
  
    
    
      
    
    
    
    
    
    
    

    <a href="https://github.com/docker-community-leaders/dockercommunity/edit/master/content/en/docs/CommunityLeaders/EventHandbooks/Docker101/dockerfile/_index.md" target="_blank"><i class="fa fa-edit fa-fw"></i> View/Edit this page</a>
    <a href="https://github.com/docker-community-leaders/dockercommunity/new/master/content/en/docs/CommunityLeaders/EventHandbooks/Docker101/dockerfile/_index.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" target="_blank"><i class="fa fa-edit fa-fw"></i> Create child page</a>
    <a href="https://github.com/docker-community-leaders/dockercommunity/issues/new?title=Getting%20Started%20with%20Dockerfile" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
    
      
      <a href="https://github.com/google/docsy/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
    

  
  
  </div>





<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#what-is-a-dockerfile">What is a Dockerfile?</a></li>
        <li><a href="#understanding-image-layering-concept-with-dockerfile">Understanding Image Layering Concept with Dockerfile</a></li>
        <li><a href="#lab-1-create-an-image-with-git-installed">Lab #1: Create an image with GIT installed</a></li>
        <li><a href="#lab-2-create-an-image-with-add-instruction">Lab #2: Create an image with ADD instruction</a></li>
        <li><a href="#lab-3-create-an-image-with-copy-instruction">Lab #3: Create an image with COPY instruction</a></li>
        <li><a href="#lab-4-create-an-image-with-cmd-instruction">Lab #4: Create an image with CMD instruction</a></li>
        <li><a href="#lab-5-create-an-image-with-entrypoint-instruction">Lab #5: Create an image with ENTRYPOINT instruction</a></li>
        <li><a href="#tested-infrastructure-4">Tested Infrastructure</a></li>
        <li><a href="#lab-6-create-an-image-with-workdir-instruction">Lab #6: Create an image with WORKDIR instruction</a></li>
        <li><a href="#lab-7-create-an-image-with-run-instruction">Lab #7: Create an image with RUN instruction</a></li>
        <li><a href="#lab-8-create-an-image-with-arg-instruction">Lab #8: Create an image with ARG instruction</a></li>
        <li><a href="#lab-9-create-an-image-with-env-instruction">Lab #9: Create an image with ENV instruction</a></li>
        <li><a href="#lab-10-create-an-image-with-volume-instruction">Lab #10: Create an image with VOLUME instruction</a></li>
        <li><a href="#assignment-8">Assignment</a></li>
        <li><a href="#lab-11-create-an-image-with-expose-instruction">Lab #11: Create an image with EXPOSE instruction</a></li>
        <li><a href="#lab-12-create-an-image-with-label-instruction">Lab #12: Create an image with LABEL Instruction</a></li>
        <li><a href="#lab-13-create-an-image-with-onbuild-instruction">Lab #13: Create an image with ONBUILD instruction</a></li>
        <li><a href="#lab-14-create-an-image-with-healthcheck-instruction">Lab #14: Create an image with HEALTHCHECK instruction</a></li>
        <li><a href="#lab-15-create-an-image-with-shell-instruction">Lab #15: Create an image with SHELL instruction</a></li>
        <li><a href="#lab-16-create-an-image-with-user-instruction">Lab 16: Create an image with USER Instruction</a></li>
        <li><a href="#how-is-entrypoint-different-from-the-run-instruction">How is ENTRYPOINT different from the RUN instruction?</a></li>
        <li><a href="#writing-dockerfile-with-hello-python-script-added">Writing Dockerfile with Hello Python Script Added</a></li>
        <li><a href="#writing-a-dockerfile">Writing a Dockerfile</a></li>
        <li><a href="#building-a-dockerfile">Building a Dockerfile</a></li>
        <li><a href="#running-a-container-from-the-newly-built-image">Running a container from the newly built image</a></li>
      </ul>
    </li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		
















<li class="breadcrumb-item" >
	<a href="https://docker-community-leaders.github.io/dockercommunity/docs/">Home</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docker-community-leaders.github.io/dockercommunity/docs/communityleaders/">Community Leaders Program</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docker-community-leaders.github.io/dockercommunity/docs/communityleaders/eventhandbooks/">Event Handbooks</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://docker-community-leaders.github.io/dockercommunity/docs/communityleaders/eventhandbooks/docker101/">Docker for Beginners</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://docker-community-leaders.github.io/dockercommunity/docs/communityleaders/eventhandbooks/docker101/dockerfile/">Getting Started with Dockerfile</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Getting Started with Dockerfile</h1>
        <div class="lead">Getting Started with Dockerfile</div>
	
            <p class="reading-time"><i class="fa fa-clock" aria-hidden="true"></i> 35 minute read</p>
        
	<ul>
<li><a href="#what-is-a-dockerfile">What is a Dockerfile?</a></li>
<li><a href="#understanding-image-layering-concept-with-dockerfile">Understanding Layering Concept with Dockerfile</a></li>
<li>Creating Docker Image
<ul>
<li><a href="#lab-1-create-an-image-with-git-installed">Installing GIT</a></li>
<li><a href="#lab-2-create-an-image-with-add-instruction">ADD instruction</a></li>
<li><a href="#lab-3-create-an-image-with-copy-instruction">COPY instruction</a></li>
<li><a href="#lab-4-create-an-image-with-cmd-instruction-ENTRYPOINT.md">CMD instruction</a></li>
<li><a href="#lab-6-create-an-image-with-workdir-instruction">WORKDIR instruction</a></li>
<li><a href="#lab-7-create-an-image-with-run-instruction">RUN instruction</a></li>
<li><a href="#lab-8-create-an-image-with-arg-instruction">ARG instruction</a></li>
<li><a href="#lab-9-create-an-image-with-env-instruction">ENV instruction</a></li>
<li><a href="#lab-10-create-an-image-with-volume-instruction">VOLUME instruction</a></li>
<li><a href="#lab-11-create-an-image-with-expose-instruction">EXPOSE instruction</a></li>
<li><a href="#lab-12-create-an-image-with-label-instruction">LABEL instruction</a></li>
<li><a href="#lab-13-create-an-image-with-onbuild-instruction">ONBUILD instruction</a></li>
<li><a href="#lab-14-create-an-image-with-healthcheck-instruction">HEALTHCHECK instruction</a></li>
<li><a href="#lab-15-create-an-image-with-shell-instruction">SHELL instruction</a></li>
<li><a href="#lab-16-create-an-image-with-user-instruction">USER instruction</a></li>
</ul>
</li>
<li><a href="#how-is-entrypoint-different-from-the-run-instruction">ENTRYPOINT vs RUN</a></li>
<li><a href="#writing-dockerfile-with-hello-python-script-added">Writing Dockerfile with Hello Python Script Added</a></li>
<li><a href="#test-your-knowledge-quiz2">Test Your Knowledge</a></li>
</ul>
<h2 id="what-is-a-dockerfile">What is a Dockerfile?</h2>
<ul>
<li>A Dockerfile is a text file which contains a series of commands or instructions.</li>
<li>These instructions are executed in the order in which they are written.</li>
<li>Execution of these instructions takes place on a base image.</li>
<li>On building the Dockerfile, the successive actions form a new image from the base parent image.</li>
</ul>
<h2 id="understanding-image-layering-concept-with-dockerfile">Understanding Image Layering Concept with Dockerfile</h2>
<p>Docker container is a runnable instance of an image, which is actually made by writing a readable/writable layer on top of some read-only layers.</p>
<p>The parent image used to create another image from a Dockerfile is read-only. When we execute instructions on this parent image, new layers keep adding up.
These layers are created when we run docker build command.</p>
<p>The instructions RUN, COPY, ADD mostly contribute to the addition of layers in a Docker build.</p>
<p>Each layer is read-only except the last one - this is added to the image for generating a runnable container. This last layer is called &ldquo;container layer&rdquo;. All changes made to the container, like making new files, installing applications, etc. are done in this thin layer.</p>
<p>Let&rsquo;s understand this layering using an example:</p>
<p>Consider the Dockerfile given below:</p>
<pre><code>FROM ubuntu:latest
RUN mkdir -p /hello/hello
COPY hello.txt /hello/hello
RUN chmod 600 /hello/hello/hello.txt

</code></pre><h3 id="layer-id">Layer ID</h3>
<p>Each instruction the Dockerfile generates a layer. Each of this layer has a randomly generated unique ID. This ID can be seen at the time of build. See the image below:</p>
<p><img src="https://raw.githubusercontent.com/Prashansa-K/Docker/master/Writing%20Dockerfiles/layering2.png" alt="Docker layers during Build"></p>
<p>To view all these layers once an image is built from a Dockerfile, we can use docker history command.</p>
<p><img src="https://raw.githubusercontent.com/Prashansa-K/Docker/master/Writing%20Dockerfiles/layering3.png" alt="Docker history"></p>
<p>To see more information about the Docker image and the layers use &lsquo;docker inspect&rsquo; command as such:</p>
<pre><code># docker inspect testimage:latest

[
    {
        &quot;Id&quot;: &quot;sha256:c5701e02ed095ae7cabaef9fcef009d1f272206ff707deca13a680e024db7f02&quot;,
        &quot;RepoTags&quot;: [
            &quot;testimage:latest&quot;
        ],
        &quot;RepoDigests&quot;: [],
        &quot;Parent&quot;: &quot;sha256:694569c6db07ecef432cee1a9a4a6d45f2fd1f6be16814bf59e101bed966e612&quot;,
        &quot;Comment&quot;: &quot;&quot;,
        &quot;Created&quot;: &quot;2019-06-03T23:47:01.026463541Z&quot;,
        &quot;Container&quot;: &quot;ac8873a003cb9ed972b4675f8d27181b99112e7530a5803ff89780e3ecc18b1c&quot;,
        &quot;ContainerConfig&quot;: {
            &quot;Hostname&quot;: &quot;&quot;,
            &quot;Domainname&quot;: &quot;&quot;,
            &quot;User&quot;: &quot;&quot;,
            &quot;AttachStdin&quot;: false,
            &quot;AttachStdout&quot;: false,
            &quot;AttachStderr&quot;: false,
            &quot;Tty&quot;: false,
            &quot;OpenStdin&quot;: false,
            &quot;StdinOnce&quot;: false,
            &quot;Env&quot;: [
                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;
            ],
            &quot;Cmd&quot;: [
                &quot;/bin/sh&quot;,
                &quot;-c&quot;,
                &quot;chmod 600 /home/hello/hello.txt&quot;
            ],
            &quot;ArgsEscaped&quot;: true,
            &quot;Image&quot;: &quot;sha256:694569c6db07ecef432cee1a9a4a6d45f2fd1f6be16814bf59e101bed966e612&quot;,
            &quot;Volumes&quot;: null,
            &quot;WorkingDir&quot;: &quot;&quot;,
            &quot;Entrypoint&quot;: null,
            &quot;OnBuild&quot;: null,
            &quot;Labels&quot;: null
        },
        &quot;DockerVersion&quot;: &quot;18.03.1-ce&quot;,
        &quot;Author&quot;: &quot;&quot;,
        &quot;Config&quot;: {
            &quot;Hostname&quot;: &quot;&quot;,
            &quot;Domainname&quot;: &quot;&quot;,
            &quot;User&quot;: &quot;&quot;,
            &quot;AttachStdin&quot;: false,
            &quot;AttachStdout&quot;: false,
            &quot;AttachStderr&quot;: false,
            &quot;Tty&quot;: false,
            &quot;OpenStdin&quot;: false,
            &quot;StdinOnce&quot;: false,
            &quot;Env&quot;: [
                &quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;
            ],
            &quot;Cmd&quot;: [
                &quot;/bin/bash&quot;
            ],
            &quot;ArgsEscaped&quot;: true,
            &quot;Image&quot;: &quot;sha256:694569c6db07ecef432cee1a9a4a6d45f2fd1f6be16814bf59e101bed966e612&quot;,
            &quot;Volumes&quot;: null,
            &quot;WorkingDir&quot;: &quot;&quot;,
            &quot;Entrypoint&quot;: null,
            &quot;OnBuild&quot;: null,
            &quot;Labels&quot;: null
        },
        &quot;Architecture&quot;: &quot;amd64&quot;,
        &quot;Os&quot;: &quot;linux&quot;,
        &quot;Size&quot;: 222876395,
        &quot;VirtualSize&quot;: 222876395,
        &quot;GraphDriver&quot;: {
            &quot;Data&quot;: {
                &quot;LowerDir&quot;: &quot;/var/lib/docker/overlay2/86a76eac21ae67f6d78e59076107a121e6dfb9cc922e68e1be975fc97e711eb1/diff:/var/lib/docker/overlay2/0604b502d31eff670769257ba3411fca09fbe2eab03343660ba557024915a1e6/diff:/var/lib/docker/overlay2/16af32e079fbc252ea5de044628285d5c3a34fc8441602a762729482666b2431/diff:/var/lib/docker/overlay2/732c4ab0164f92664ce831b4a830251132bf17cbcb7d093334a7a367b1a665e5/diff:/var/lib/docker/overlay2/c8a69709e5093c6eefa317f015cbf1422a446b2fe5d3f3d52a7e0d8af8dc6a28/diff:/var/lib/docker/overlay2/c93b36ec3a753592518727a2ea4547ab4e53d58489b9fae0838b2806e9c18346/diff:/var/lib/docker/overlay2/e67589599c2a5ed3bd74a269f3effaa52f94975fd811a866f1fe2bbcb2edabe4/diff&quot;,
                &quot;MergedDir&quot;: &quot;/var/lib/docker/overlay2/31c68adcd824f155d23de4197b3d0b8776b079c307c1e4c0f2f8bbc73807adc0/merged&quot;,
                &quot;UpperDir&quot;: &quot;/var/lib/docker/overlay2/31c68adcd824f155d23de4197b3d0b8776b079c307c1e4c0f2f8bbc73807adc0/diff&quot;,
                &quot;WorkDir&quot;: &quot;/var/lib/docker/overlay2/31c68adcd824f155d23de4197b3d0b8776b079c307c1e4c0f2f8bbc73807adc0/work&quot;
            },
            &quot;Name&quot;: &quot;overlay2&quot;
        },
        &quot;RootFS&quot;: {
            &quot;Type&quot;: &quot;layers&quot;,
            &quot;Layers&quot;: [
                &quot;sha256:05b0f7f2a81723fd647744a7340477ef9619f5ddeba3f2ca039dac3dd143cd59&quot;,
                &quot;sha256:0c3819952093832ffd8865bf72bc17f2f5475795cffe97e2b4c4ff36e638c244&quot;,
                &quot;sha256:14fa4a9494bf9e61f83a1bb96cd9e963ab0cbbdaf8ed91ff5eec5196c5bf7b12&quot;,
                &quot;sha256:b33859b66bfd3ad176ccf3be8dbd52d6b9823de8cc26688f2efeb76a0ea24a78&quot;,
                &quot;sha256:4622c8e1bdc0716e185fa3b338fa415dfdad3724336315de0bebd173a6ceaf05&quot;,
                &quot;sha256:6427efc3a0d7bae1fe315b844703580b2095073dcdf54a6ed9c7b1c0d982d9b0&quot;,
                &quot;sha256:59cd898074ac7765bacd76a11724b8d666ed8e9c14e7806dfb20a486102f6f1e&quot;,
                &quot;sha256:ad24f18512fddb8794612f7ec5955d06dcee93641d02932d809f0640263b8e79&quot;
            ]
        },
        &quot;Metadata&quot;: {
            &quot;LastTagTime&quot;: &quot;2019-06-04T05:17:01.430558997+05:30&quot;
        }
    }
]

</code></pre><h3 id="visualizing-layers-of-docker-image">Visualizing layers of Docker Image</h3>
<pre><code>docker run --rm -it -v /var/run/docker.sock:/var/run/docker.sock  wagoodman/dive testimage
</code></pre><pre><code>[● Layers]───────────────────────────────────────────────────────────────────────────── [Current Layer Contents]───────────────────────────────────────────────────────────────
Cmp   Size  Command                                                                     Permission     UID:GID       Size  Filetree
     63 MB  FROM e388568efdf7281                                                        drwxr-xr-x         0:0     4.8 MB  ├── bin
    988 kB  [ -z &quot;$(apt-get indextargets)&quot; ]                                            -rwxr-xr-x         0:0     1.1 MB  │   ├── bash
     745 B  set -xe   &amp;&amp; echo '#!/bin/sh' &gt; /usr/sbin/policy-rc.d  &amp;&amp; echo 'exit 101' &gt; -rwxr-xr-x         0:0      35 kB  │   ├── bunzip2
       7 B  mkdir -p /run/systemd &amp;&amp; echo 'docker' &gt; /run/systemd/container             -rwxr-xr-x         0:0        0 B  │   ├── bzcat → bin/bunzip2
       0 B  mkdir -p /hello/hello                                                       -rwxrwxrwx         0:0        0 B  │   ├── bzcmp → bzdiff
      37 B  #(nop) COPY file:666735678ded52c6f9e0693ca27b4dc3d466e3d79c585a58c3b9a91357 -rwxr-xr-x         0:0     2.1 kB  │   ├── bzdiff
      37 B  chmod 600 /hello/hello/hello.txt                                            -rwxrwxrwx         0:0        0 B  │   ├── bzegrep → bzgrep
                                                                                        -rwxr-xr-x         0:0     4.9 kB  │   ├── bzexe
[Layer Details]──────────────────────────────────────────────────────────────────────── -rwxrwxrwx         0:0        0 B  │   ├── bzfgrep → bzgrep
                                                                                        -rwxr-xr-x         0:0     3.6 kB  │   ├── bzgrep
Tags:   (unavailable)                                                                   -rwxr-xr-x         0:0        0 B  │   ├── bzip2 → bin/bunzip2
Id:     e388568efdf72814bd6439a80d822ce06b631689a82292a2b96382d020d63a4c                -rwxr-xr-x         0:0      14 kB  │   ├── bzip2recover
Digest: sha256:43c67172d1d182ca5460fc962f8f053f33028e0a3a1d423e05d91b532429e73d         -rwxrwxrwx         0:0        0 B  │   ├── bzless → bzmore
Command:                                                                                -rwxr-xr-x         0:0     1.3 kB  │   ├── bzmore
#(nop) ADD file:08e718ed0796013f5957a1be7da3bef6225f3d82d8be0a86a7114e5caad50cbc in /   -rwxr-xr-x         0:0      35 kB  │   ├── cat
                                                                                        -rwxr-xr-x         0:0      64 kB  │   ├── chgrp
[Image Details]──────────────────────────────────────────────────────────────────────── -rwxr-xr-x         0:0      60 kB  │   ├── chmod
                                                                                        -rwxr-xr-x         0:0      68 kB  │   ├── chown
Total Image size: 64 MB                                                                 -rwxr-xr-x         0:0     142 kB  │   ├── cp
Potential wasted space: 308 B                                                           -rwxr-xr-x         0:0     121 kB  │   ├── dash
Image efficiency score: 99 %                                                            -rwxr-xr-x         0:0     101 kB  │   ├── date
                                                                                        -rwxr-xr-x         0:0      76 kB  │   ├── dd
Count   Total Space  Path                                                               -rwxr-xr-x         0:0      85 kB  │   ├── df
    2         234 B  /var/lib/dpkg/diversions                                           -rwxr-xr-x         0:0     134 kB  │   ├── dir
    2          74 B  /hello/hello/hello.txt                                             -rwxr-xr-x         0:0      72 kB  │   ├── dmesg
                                                                                        -rwxrwxrwx         0:0        0 B  │   ├── dnsdomainname → hostname
                                                                                        -rwxrwxrwx         0:0        0 B  │   ├── domainname → hostname
                                                                                        -rwxr-xr-x         0:0      35 kB  │   ├── echo
                                                                                        -rwxr-xr-x         0:0       28 B  │   ├── egrep
                                                                                        -rwxr-xr-x         0:0      31 kB  │   ├── false
                                                                                        -rwxr-xr-x         0:0       28 B  │   ├── fgrep
                                                                                        -rwxr-xr-x         0:0      65 kB  │   ├── findmnt
                                                                                        -rwxr-xr-x         0:0     220 kB  │   ├── grep
                                                                                        -rwxr-xr-x         0:0     2.3 kB  │   ├── gunzip
                                                                                        -rwxr-xr-x         0:0     5.9 kB  │   ├── gzexe
                                                                                        -rwxr-xr-x         0:0     102 kB  │   ├── gzip
</code></pre><h2 id="lab-1-create-an-image-with-git-installed">Lab #1: Create an image with GIT installed</h2>
<h3 id="pre-requisite">Pre-requisite:</h3>
<h3 id="tested-infrastructure">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-1">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment">Assignment:</h3>
<ul>
<li>Create an image with GIT installed</li>
<li>Tag your image as labs-git:v1.0</li>
<li>Create a container based on that image, and run git &ndash;version to check that it is installed correctly</li>
</ul>
<h3 id="creating-dockerfile">Creating Dockerfile</h3>
<pre><code>FROM alpine:3.5
RUN apk update
RUN apk add git
</code></pre><h3 id="build-docker-image">Build Docker Image</h3>
<pre><code>docker build -t ajeetraina/alpine-git .
</code></pre><h3 id="tagging-image-as-labs-git">Tagging image as labs-git</h3>
<pre><code>docker tag ajeetraina/alpine-git ajeetraina/labs-git:v1.0
</code></pre><h3 id="verify-the-images">Verify the Images</h3>
<pre><code>$ docker images
REPOSITORY              TAG                 IMAGE ID            CREATED             SIZE
ajeetraina/alpine-git   latest              cb913e37a593        16 seconds ago      26.6MB
ajeetraina/labs-git     v1.0                cb913e37a593        16 seconds ago      26.6MB
</code></pre><h3 id="create-a-container">Create a container</h3>
<pre><code>docker run -itd ajeetraina/labs-git:v1.0 /bin/sh
</code></pre><pre><code>$ docker ps
CONTAINER ID        IMAGE                      COMMAND             CREATED             STATUS              PORTS               NAMES
3e26a5268f55        ajeetraina/labs-git:v1.0   &quot;/bin/sh&quot;           4 seconds ago       Up 2 seconds                            elated_neumann
</code></pre><h3 id="enter-into-container-shell">Enter into Container Shell</h3>
<pre><code>docker attach 3e26
</code></pre><p>Please press &ldquo;Enter&rdquo; key twice so as to enter into container shell</p>
<h3 id="verify-if-git-is-installed">Verify if GIT is installed</h3>
<pre><code>/ # git --version
git version 2.13.7
</code></pre><h2 id="lab-2-create-an-image-with-add-instruction">Lab #2: Create an image with ADD instruction</h2>
<p>COPY and ADD are both Dockerfile instructions that serve similar purposes. They let you copy files from a specific location into a Docker image.</p>
<p>COPY takes in a src and destination. It only lets you copy in a local file or directory from your host (the machine building the Docker image) into the Docker image itself.</p>
<p>ADD lets you do that too, but it also supports 2 other sources. First, you can use a URL instead of a local file / directory. Secondly, you can extract a tar file from the source directly into the destination.</p>
<h3 id="pre-requisite-2">Pre-requisite:</h3>
<h3 id="tested-infrastructure-1">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-3">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-1">Assignment:</h3>
<ul>
<li>Create an image with ADD instruction</li>
<li>Tag your image as labs-add:v1.0</li>
<li>Create a container based on that image, and see the extracted tar file.</li>
</ul>
<h3 id="creating-dockerfile-1">Creating Dockerfile</h3>
<pre><code>FROM alpine:3.5
RUN apk update
ADD http://www.vlsitechnology.org/pharosc_8.4.tar.gz .
</code></pre><h3 id="build-docker-image-1">Build Docker Image</h3>
<pre><code>docker build -t saiyam911/alpine-add . -f &lt;name of dockerfile&gt;
</code></pre><h3 id="tagging-image-as-labs-git-1">Tagging image as labs-git</h3>
<pre><code>docker tag saiyam911/alpine-add saiyam911/labs-add:v1.0
</code></pre><h3 id="verify-the-images-1">Verify the Images</h3>
<pre><code>$ docker images
REPOSITORY                   TAG                 IMAGE ID            CREATED             SIZE
saiyam911/alpine-add        latest              cdf97cb49d48        38 minutes ago       300MB
saiyam911/labs-add          v1.0                cdf97cb49d48        38 minutes ago       300MB
</code></pre><h3 id="create-a-container-1">Create a container</h3>
<pre><code>docker run -itd saiyam911/labs-add:v1.0 /bin/sh
</code></pre><pre><code>$ docker ps
CONTAINER ID        IMAGE                      COMMAND             CREATED             STATUS              PORTS               NAMES
f0940750f61a        saiyam911/labs-add:v1.0   &quot;/bin/sh&quot;           20 seconds ago      Up 18 seconds                           distracted_darwin
</code></pre><h3 id="enter-into-container-shell-1">Enter into Container Shell</h3>
<pre><code>docker attach f094
</code></pre><p>Please press &ldquo;Enter&rdquo; key twice so as to enter into container shell</p>
<h3 id="verify-if-the-link-has-been-extracted-onto-the-container">Verify if the link has been extracted onto the container</h3>
<pre><code>/ # ls -ltr
-rw-------    1 root     root     295168000 Sep 19  2007 pharosc_8.4.tar.gz
</code></pre><p>ADD Command lets you to add a tar directly from a link and explode to the container.</p>
<h2 id="lab-3-create-an-image-with-copy-instruction">Lab #3: Create an image with COPY instruction</h2>
<p>The COPY instruction copies files or directories from source and adds them to the filesystem of the container at destinatio.</p>
<p>Two form of COPY instruction</p>
<pre><code>COPY [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;
COPY [--chown=&lt;user&gt;:&lt;group&gt;] [&quot;&lt;src&gt;&quot;,... &quot;&lt;dest&gt;&quot;] (this form is required for paths containing whitespace)
</code></pre><h3 id="tested-infrastructure-2">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-4">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-2">Assignment:</h3>
<ul>
<li>Create an image with COPY instruction</li>
<li>COPY instruction in Multi-stage Builds</li>
</ul>
<h3 id="create-an-image-with-copy-instruction">Create an image with COPY instruction</h3>
<p>Dockerfile</p>
<pre><code>FROM nginx:alpine
LABEL maintainer=&quot;Collabnix&quot;

COPY index.html /usr/share/nginx/html/
ENTRYPOINT [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]
</code></pre><p>Lets create the <b>index.html</b> file</p>
<pre><code>$ echo &quot;Welcome to Dockerlabs !&quot; &gt; index.html
</code></pre><h4 id="building-docker-image">Building Docker Image</h4>
<pre><code>$ docker image build -t cpy:v1 .
</code></pre><h4 id="staring-the-container">Staring the container</h4>
<pre><code>$ docker container run -d --rm --name myapp1 -p 80:80 cpy:v1
</code></pre><h4 id="checking-index-file">Checking index file</h4>
<pre><code>$ curl localhost
Welcome to Dockerlabs !
</code></pre><h3 id="copy-instruction-in-multi-stage-builds">COPY instruction in Multi-stage Builds</h3>
<p>Dockerfile</p>
<pre><code>FROM alpine AS stage1
LABEL maintainer=&quot;Collabnix&quot;
RUN echo &quot;Welcome to Docker Labs!&quot; &gt; /opt/index.html

FROM nginx:alpine
LABEL maintainer=&quot;Collabnix&quot;
COPY --from=stage1 /opt/index.html /usr/share/nginx/html/
ENTRYPOINT [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]
</code></pre><h4 id="building-docker-image-1">Building Docker Image</h4>
<pre><code>$ docker image build -t cpy:v2 .
</code></pre><h4 id="staring-the-container-1">Staring the container</h4>
<pre><code>$ docker container run -d --rm --name myapp2 -p 8080:80 cpy:v2
</code></pre><h4 id="checking-index-file-1">Checking index file</h4>
<pre><code>$ curl localhost:8080
Welcome to Docker Labs !
</code></pre><p><b>NOTE:</b> You can name your stages, by adding an AS <NAME> to the FROM instruction.By default, the stages are not named, and you can refer to them by their integer number, starting with 0 for the first FROM instruction.You are not limited to copying from stages you created earlier in your Dockerfile, you can use the COPY &ndash;from instruction to copy from a separate image, either using the local image name, a tag available locally or on a Docker registry.</p>
<pre><code>COPY --from=nginx:latest /etc/nginx/nginx.conf /nginx.conf
</code></pre><h2 id="lab-4-create-an-image-with-cmd-instruction">Lab #4: Create an image with CMD instruction</h2>
<h3 id="tested-infrastructure-3">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-5">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="creating-dockerfile-2">Creating Dockerfile</h3>
<pre><code>FROM alpine:3.6

RUN apk update
CMD [&quot;top&quot;]
</code></pre><h3 id="building-docker-container">Building Docker Container</h3>
<pre><code>docker build -t ajeetraina/lab3_cmd . -f Dockerfile_cmd
</code></pre><h3 id="running-the-docker-container">Running the Docker container</h3>
<pre><code>docker run ajeetraina/lab3_cmd:latest
</code></pre><h2 id="lab-5-create-an-image-with-entrypoint-instruction">Lab #5: Create an image with ENTRYPOINT instruction</h2>
<p>The <code>ENTRYPOINT</code> instruction make your container run as an executable. <br>
ENTRYPOINT can be configured in two forms:</p>
<ul>
<li><b> Exec Form </b><br>
ENTRYPOINT [&ldquo;executable&rdquo;, &ldquo;param1&rdquo;, &ldquo;param2&rdquo;]  <br></li>
<li><b>Shell Form</b><br>
ENTRYPOINT command param1 param2 <br></li>
</ul>
<p>If an image has an ENTRYPOINT if you pass an argument it, while running container it wont override the existing entrypoint, it will append what you passed with the entrypoint.To override the existing ENTRYPOINT you should user <b>&ndash;entrypoint</b> flag when running container.</p>
<h2 id="tested-infrastructure-4">Tested Infrastructure</h2>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-6">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-3">Assignment:</h3>
<ul>
<li>Create an image with ENTRYPOINT instruction(Exec Form)</li>
<li>ENTRYPOINT instruction in Shell Form</li>
<li>Override the existing ENTRYPOINT</li>
</ul>
<h3 id="create-an-image-with-entrypoint-instructionexec-form">Create an image with ENTRYPOINT instruction(Exec Form)</h3>
<p>Dockerfile</p>
<pre><code>FROM alpine:3.5
LABEL maintainer=&quot;Collabnix&quot;

ENTRYPOINT [&quot;/bin/echo&quot;, &quot;Hi, your ENTRYPOINT instruction in Exec Form !&quot;]
</code></pre><h4 id="build-docker-image-2">Build Docker Image</h4>
<pre><code>$ docker build -t entrypoint:v1 .
</code></pre><h4 id="verify-the-image">Verify the Image</h4>
<pre><code>$ docker image ls

REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
entrypoint          v1                  1d06f06c2062        2 minutes ago       4MB
alpine              3.5                 f80194ae2e0c        7 months ago        4MB
</code></pre><h4 id="create-a-container-2">Create a container</h4>
<pre><code>$ docker container run entrypoint:v1
Hi, your ENTRYPOINT instruction in Exec Form !
</code></pre><h3 id="entrypoint-instruction-in-shell-form">ENTRYPOINT instruction in Shell Form</h3>
<p>Dockerfile</p>
<pre><code>$ cat Dockerfile 
FROM alpine:3.5
LABEL maintainer=&quot;Collabnix&quot;

ENTRYPOINT echo &quot;Hi, your ENTRYPOINT instruction in Shell Form !&quot;
</code></pre><h4 id="build-docker-image-3">Build Docker Image</h4>
<pre><code>$ docker build -t entrypoint:v2 .
</code></pre><h4 id="verify-the-image-1">Verify the Image</h4>
<pre><code>$ docker image ls

REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
entrypoint          v2                  cde521f13080        2 minutes ago       4MB
entrypoint          v1                  1d06f06c2062        5 minutes ago      4MB
alpine              3.5                 f80194ae2e0c        7 months ago        4MB
</code></pre><h4 id="create-a-container-3">Create a container</h4>
<pre><code>$ docker container run entrypoint:v2
Hi, your ENTRYPOINT instruction in Shell Form !
</code></pre><h3 id="override-the-existing-entrypoint">Override the existing ENTRYPOINT</h3>
<pre><code>$ docker container run --entrypoint &quot;/bin/echo&quot; entrypoint:v2 &quot;Hello, Welocme to Docker Meetup! &quot;
Hello, Welocme to Docker Meetup! 
</code></pre><h2 id="lab-6-create-an-image-with-workdir-instruction">Lab #6: Create an image with WORKDIR instruction</h2>
<p>The <code>WORKDIR</code> directive in <code>Dockerfile</code> defines the working directory for the rest of the instructions in the Dockerfile. The WORKDIR instruction wont create a new layer in the image but will add metadata to the image config. If the WORKDIR doesn’t exist, it will be created even if it’s not used in any subsequent Dockerfile instruction. you can have multiple WORKDIR in same Dockerfile. If a relative path is provided, it will be relative to the previous WORKDIR instruction.</p>
<pre><code>WORKDIR /path/to/workdir
</code></pre><p>If no WORKDIR is specified in the Dockerfile then the default path is <code>/</code>. The WORKDIR instruction can resolve environment variables previously set in Dockerfile using ENV.</p>
<h3 id="tested-infrastructure-5">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-7">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-4">Assignment</h3>
<ul>
<li>Dockerfile with WORKDIR instruction</li>
<li>WORKDIR with Relative path</li>
<li>WORKDIR with Absolute path</li>
<li>WORKDIR with environment variables as path</li>
</ul>
<h4 id="dockerfile-with-workdir-instruction">Dockerfile with WORKDIR instruction</h4>
<p>Dockerfile</p>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;

WORKDIR /opt
</code></pre><h4 id="building-docker-image-2">Building Docker image</h4>
<pre><code>$ docker build -t workdir:v1 .
</code></pre><h4 id="testing-current-workdir-by-running-container">Testing current WORKDIR by running container</h4>
<pre><code>$ docker run -it workdir:v1 pwd
</code></pre><h3 id="workdir-with-relative-path">WORKDIR with relative path</h3>
<p>Dockerfile</p>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;

WORKDIR /opt
RUN echo &quot;Welcome to Docker Labs&quot; &gt; opt.txt
WORKDIR folder1
RUN echo &quot;Welcome to Docker Labs&quot; &gt; folder1.txt
WORKDIR folder2
RUN echo &quot;Welcome to Docker Labs&quot; &gt; folder2.txt
</code></pre><h4 id="building-docker-image-3">Building Docker image</h4>
<pre><code>$ docker build -t workdir:v2 .
</code></pre><h4 id="testing-current-workdir-by-running-container-1">Testing current WORKDIR by running container</h4>
<pre><code>$ docker run -it workdir:v2 pwd
</code></pre><h3 id="workdir-with-absolute-path">WORKDIR with Absolute path</h3>
<p>Dockerfile</p>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;

WORKDIR /opt/folder1
RUN echo &quot;Welcome to Docker Labs&quot; &gt; opt.txt
WORKDIR /var/tmp/
</code></pre><h4 id="building-docker-image-4">Building Docker image</h4>
<pre><code>$ docker build -t workdir:v3 .
</code></pre><h4 id="testing-current-workdir-by-running-container-2">Testing current WORKDIR by running container</h4>
<pre><code>$ docker run -it workdir:v3 pwd
</code></pre><h3 id="workdir-with-environment-variables-as-path">WORKDIR with environment variables as path</h3>
<p>Dockerfile</p>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;

ENV DIRPATH /myfolder
WORKDIR $DIRPATH
</code></pre><h4 id="building-docker-image-5">Building Docker image</h4>
<pre><code>$ docker build -t workdir:v4 .
</code></pre><h4 id="testing-current-workdir-by-running-container-3">Testing current WORKDIR by running container</h4>
<pre><code>$ docker run -it workdir:v4 pwd
</code></pre><h2 id="lab-7-create-an-image-with-run-instruction">Lab #7: Create an image with RUN instruction</h2>
<p>The <code>RUN</code> instruction execute command on top of the below layer and create a new layer. <br>
RUN instruction can be wrote in two forms:</p>
<ul>
<li>RUN <command> (shell form)</li>
<li>RUN [&ldquo;executable&rdquo;, &ldquo;param1&rdquo;, &ldquo;param2&rdquo;] (exec form)</li>
</ul>
<h3 id="tested-infrastructure-6">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-8">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-5">Assignment:</h3>
<ul>
<li>Create an image with RUN instruction</li>
<li>Combining multiple RUN instruction to one</li>
</ul>
<h3 id="create-an-image-with-run-instruction">Create an image with RUN instruction</h3>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;
RUN apk add --update 
RUN apk add curl
RUN rm -rf /var/cache/apk/
</code></pre><h4 id="building-docker-image-6">Building Docker image</h4>
<pre><code>$ docker image build -t run:v1 .
</code></pre><h4 id="checking-layer-of-the-image">Checking layer of the image</h4>
<pre><code>$  docker image history run:v1 
IMAGE               CREATED             CREATED BY                                      SIZE                
NT
5b09d7ba1736        19 seconds ago      /bin/sh -c rm -rf /var/cache/apk/               0B                  
192115cc597a        21 seconds ago      /bin/sh -c apk add curl                         1.55MB              
0518580850f1        43 seconds ago      /bin/sh -c apk add --update                     1.33MB              
8590497d994e        45 seconds ago      /bin/sh -c #(nop)  LABEL maintainer=Collabnix   0B                  
cdf98d1859c1        4 months ago        /bin/sh -c #(nop)  CMD [&quot;/bin/sh&quot;]              0B                  
&lt;missing&gt;           4 months ago        /bin/sh -c #(nop) ADD file:2e3a37883f56a4a27…   5.53MB 
</code></pre><p>Number of layers 6</p>
<h4 id="checking-image-size">Checking image size</h4>
<pre><code>$ docker image ls run:v1
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
run                 v1                  5b09d7ba1736        4 minutes ago       8.42MB
</code></pre><p>Its 8.42MB</p>
<h3 id="combining-multiple-run-instruction-to-one">Combining multiple RUN instruction to one</h3>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;
RUN apk add --update &amp;&amp; \
	apk add curl  &amp;&amp; \  
	rm -rf /var/cache/apk/
</code></pre><h4 id="building-docker-image-7">Building Docker image</h4>
<pre><code>$ docker image build -t run:v2 .
</code></pre><h4 id="checking-layer-of-the-image-1">Checking layer of the image</h4>
<pre><code>$ docker image history run:v2
IMAGE               CREATED             CREATED BY                                      SIZE            
NT
784298155541        50 seconds ago      /bin/sh -c apk add --update  &amp;&amp; apk add curl…   1.55MB              
8590497d994e        8 minutes ago       /bin/sh -c #(nop)  LABEL maintainer=Collabnix   0B                  
cdf98d1859c1        4 months ago        /bin/sh -c #(nop)  CMD [&quot;/bin/sh&quot;]              0B                  
&lt;missing&gt;           4 months ago        /bin/sh -c #(nop) ADD file:2e3a37883f56a4a27…   5.53MB
</code></pre><p>Number of layers 4</p>
<h4 id="checking-image-size-1">Checking image size</h4>
<pre><code>$ docker image ls run:v2
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
run                 v2                  784298155541        3 minutes ago       7.08MB
</code></pre><p>its now 7.08MB</p>
<h2 id="lab-8-create-an-image-with-arg-instruction">Lab #8: Create an image with ARG instruction</h2>
<p>The <code>ARG</code> directive in <code>Dockerfile</code> defines the parameter name and defines its default value. This default value can be overridden by the <code>--build-arg &lt;parameter name&gt;=&lt;value&gt;</code> in the build command <code>docker build</code>.</p>
<pre><code>`ARG &lt;parameter name&gt;[=&lt;default&gt;]`
</code></pre><p>The build parameters have the same effect as <code>ENV</code>, which is to set the environment variables. The difference is that the environment variables of the build environment set by <code>ARG</code> will not exist in the future when the container is running. But don&rsquo;t use <code>ARG</code> to save passwords and the like, because <code>docker history</code> can still see all the values.</p>
<h3 id="tested-infrastructure-7">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-9">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-6">Assignment</h3>
<ul>
<li>Writing a Dockerfile with ARG instruction</li>
<li>Building Docker Image with default argument</li>
<li>Running container argv:v1</li>
<li>Passing the argument during image build time</li>
<li>Running container argv:v2</li>
</ul>
<h3 id="writing-a-dockerfile-with-arg-instruction">Writing a Dockerfile with ARG instruction</h3>
<p>We are writing a Dockerfile which echo &ldquo;Welcome $WELCOME_USER, to Docker World!&rdquo; where default argument value for <b>WELCOME_USER</b> as <b>Collabnix</b>.</p>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;

#Setting a default value to Argument WELCOME_USER
ARG WELCOME_USER=Collabnix
RUN echo &quot;Welcome $WELCOME_USER, to Docker World!&quot; &gt; message.txt
CMD cat message.txt
</code></pre><h3 id="building-docker-image-with-default-argument">Building Docker Image with default argument</h3>
<pre><code>$ docker image build -t arg:v1 .
</code></pre><h3 id="running-container-argvv1">Running container argv:v1</h3>
<pre><code>$ docker run arg:v1

Welcome Collabnix, to Docker World!
</code></pre><h3 id="passing-the-argumentwelcome_user-during-image-build-time-using-b--build-argb-flag">Passing the argument(WELCOME_USER) during image build time using <b>&ndash;build-arg</b> flag</h3>
<pre><code>$ docker image build -t arg:v2 --build-arg WELCOME_USER=Savio .
</code></pre><h3 id="running-container-argvv2">Running container argv:v2</h3>
<pre><code>$ docker run arg:v2

Welcome Savio, to Docker World!
</code></pre><p><b>NOTE:</b> ARG is the only one instruction which can come before FROM instruction, but then arg value can be used only by FROM.</p>
<h2 id="lab-9-create-an-image-with-env-instruction">Lab #9: Create an image with ENV instruction</h2>
<p>The <code>ENV</code> instruction in Dockerfile sets the environment variable for your container when you start. The default value can be overridden by passing <code>--env &lt;key&gt;=&lt;value&gt;</code> when you start the container.</p>
<h3 id="tested-infrastructure-8">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-10">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-7">Assignment</h3>
<ul>
<li>Writing a Dockerfile with ENV instruction</li>
<li>Building Docker Image</li>
<li>Running container env:v1</li>
<li>Override existing env while running container</li>
</ul>
<h3 id="writing-a-dockerfile-with-env-instruction">Writing a Dockerfile with ENV instruction</h3>
<p>Dockerfile</p>
<pre><code>FROM alpine:3.9.3
LABEL maintainer=&quot;Collabnix&quot;

ENV WELCOME_MESSAGE=&quot;Welcome to Docker World&quot;

CMD [&quot;sh&quot;, &quot;-c&quot;, &quot;echo $WELCOME_MESSAGE&quot;]
</code></pre><h4 id="building-docker-image-8">Building Docker Image</h4>
<pre><code>$ docker build -t env:v1 .
</code></pre><h3 id="running-container-envv1">Running container env:v1</h3>
<pre><code>$ docker container run env:v1
Welcome to Docker World
</code></pre><h3 id="override-existing-env-while-running-container">Override existing env while running container</h3>
<pre><code>$ docker container run --env WELCOME_MESSAGE=&quot;Welcome to Docker Workshop&quot; env:v1 
Welcome to Docker Workshop
</code></pre><h2 id="lab-10-create-an-image-with-volume-instruction">Lab #10: Create an image with VOLUME instruction</h2>
<h3 id="pre-requisite-11">Pre-requisite:</h3>
<h3 id="tested-infrastructure-9">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>    
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>    
  </tr>
</table>
<h3 id="pre-requisite-12">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h2 id="assignment-8">Assignment</h2>
<ul>
<li>Create an image with VOLUME instruction</li>
<li>Finding the volume created on the host</li>
<li>Testing mount working as exepected</li>
</ul>
<h3 id="create-an-image-with-volume-instruction">Create an image with VOLUME instruction</h3>
<p>Dockerfile</p>
<pre><code>FROM nginx:alpine
LABEL maintainer=&quot;Collabnix&quot;

VOLUME /myvol
CMD [ &quot;nginx&quot;,&quot;-g&quot;,&quot;daemon off;&quot; ]
</code></pre><h4 id="building-docker-image-9">Building Docker image</h4>
<pre><code>$ docker build -t volume:v1 .
</code></pre><h4 id="create-a-container-based-on-volumev1-image">Create a container based on volume:v1 image</h4>
<pre><code>$ docker container run --rm -d --name volume-test volume:v1
</code></pre><h3 id="finding-the-volume-created-on-the-host">Finding the volume created on the host</h3>
<h4 id="checking-the-volume-name-of-the-container">Checking the volume name of the container</h4>
<pre><code>$ docker container inspect -f '{{ (index .Mounts 0).Name }}' volume-test
ed09456a448934218f03acbdaa31f465ebbb92e0d45e8284527a2c538cc6b016
</code></pre><h4 id="listout-volume-in-the-host">Listout Volume in the host</h4>
<pre><code>$ docker volume ls
DRIVER              VOLUME NAME
local               ed09456a448934218f03acbdaa31f465ebbb92e0d45e8284527a2c538cc6b016
</code></pre><p>You will see the volume has been created.</p>
<h4 id="volume-mount-path-in-host">Volume mount path in host</h4>
<pre><code>$ docker container inspect -f '{{ (index .Mounts 0).Source }}' volume-test
/var/lib/docker/volumes/ed09456a448934218f03acbdaa31f465ebbb92e0d45e8284527a2c538cc6b016/_data
</code></pre><h3 id="testing-mount-working-as-exepected">Testing mount working as exepected</h3>
<h4 id="create-a-file-in-this-folder">Create a file in this folder</h4>
<pre><code>$ touch /var/lib/docker/volumes/ed09456a448934218f03acbdaa31f465ebbb92e0d45e8284527a2c538cc6b016/_data/mytestfile.txt
</code></pre><h4 id="checking-file-is-there-in-run-container">Checking file is there in run container</h4>
<pre><code>$ docker container exec -it volume-test ls myvol
</code></pre><h2 id="lab-11-create-an-image-with-expose-instruction">Lab #11: Create an image with EXPOSE instruction</h2>
<p>The <code>EXPOSE</code> instruction expose a port, the protocol can be UDP or TCP associated with the indicated port, default is TCP with no specification. The EXPOSE won&rsquo;t be able to map the ports on the host machine. Regardless of the EXPOSE settings, EXPOSE port can be override using <b>-p</b> flag while starting the container.</p>
<h3 id="pre-requisite-13">Pre-requisite:</h3>
<h3 id="tested-infrastructure-10">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>    
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>    
  </tr>
</table>
<h3 id="pre-requisite-14">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-9">Assignment</h3>
<ul>
<li>Create an image with EXPOSE instruction</li>
<li>Inspecting the EXPOSE port in the image</li>
<li>Publish all exposed port</li>
</ul>
<h3 id="create-an-image-with-volume-instruction-1">Create an image with VOLUME instruction</h3>
<p>Dockerfile</p>
<pre><code>FROM nginx:alpine
LABEL maintainer=&quot;Collabnix&quot;

EXPOSE 80/tcp
EXPOSE 80/udp

CMD [ &quot;nginx&quot;,&quot;-g&quot;,&quot;daemon off;&quot; ]
</code></pre><h4 id="building-docker-image-10">Building Docker image</h4>
<pre><code>$ docker build -t expose:v1 .
</code></pre><h4 id="create-a-container-based-on-exposev1-image">Create a container based on expose:v1 image</h4>
<pre><code>$  docker container run --rm -d --name expose-inst expose:v1
</code></pre><h3 id="inspecting-the-expose-port-in-the-image">Inspecting the EXPOSE port in the image</h3>
<pre><code>$ docker image inspect --format={{.ContainerConfig.ExposedPorts}} expose:v1
</code></pre><h3 id="publish-all-exposed-ports">Publish all exposed ports</h3>
<p>We can publish all EXPOSE port using <b>-P</b> flag.</p>
<pre><code>$ docker container run --rm -P -d --name expose-inst-Publish expose:v1
</code></pre><h4 id="checking-the-publish-port">Checking the publish port</h4>
<pre><code>$  docker container ls
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                                          NAMES
24983e09bd86        expose:v1           &quot;nginx -g 'daemon of…&quot;   46 seconds ago      Up 45 seconds       0.0.0.0:32768-&gt;80/tcp, 0.0.0.0:32768-&gt;80/udp   expose-inst-Publish
</code></pre><h2 id="lab-12-create-an-image-with-label-instruction">Lab #12: Create an image with LABEL Instruction</h2>
<p>You can add labels to your image to help organize images by project, record licensing information, to aid in automation, or for other reasons.
For each label, add a line beginning with LABEL and with one or more key-value pairs.
The following examples show the different acceptable formats.</p>
<p>Docker offers support to add labels into images as a way to add custom metadata on them.
The label syntax on your Dockerfile is as follows:</p>
<pre><code>LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...
</code></pre><p>The LABEL instruction adds metadata to an image.
A LABEL is a key-value pair.
To include spaces within a LABEL value, use quotes and backslashes as you would in command-line parsing.
A few usage examples:</p>
<pre><code>LABEL &quot;com.example.vendor&quot;=&quot;ACME Incorporated&quot;
LABEL com.example.label-with-value=&quot;foo&quot;
LABEL version=&quot;1.0&quot;
LABEL description=&quot;This text illustrates \
that label-values can span multiple lines.&quot;
</code></pre><p>An image can have more than one label.
You can specify multiple labels on a single line.
Prior to Docker 1.10, this decreased the size of the final image, but this is no longer the case.
You may still choose to specify multiple labels in a single instruction, in one of the following two ways:</p>
<pre><code>LABEL multi.label1=&quot;value1&quot; multi.label2=&quot;value2&quot; other=&quot;value3&quot;
</code></pre><pre><code>LABEL multi.label1=&quot;value1&quot; \
      multi.label2=&quot;value2&quot; \
      other=&quot;value3&quot;
</code></pre><p>Labels included in base or parent images (images in the FROM line) are inherited by your image.
If a label already exists but with a different value, the most-recently-applied value overrides any previously-set value.</p>
<p>To view an image’s labels, use the <code>docker inspect</code> command.</p>
<pre><code>&quot;Labels&quot;: {
    &quot;com.example.vendor&quot;: &quot;ACME Incorporated&quot;
    &quot;com.example.label-with-value&quot;: &quot;foo&quot;,
    &quot;version&quot;: &quot;1.0&quot;,
    &quot;description&quot;: &quot;This text illustrates that label-values can span multiple lines.&quot;,
    &quot;multi.label1&quot;: &quot;value1&quot;,
    &quot;multi.label2&quot;: &quot;value2&quot;,
    &quot;other&quot;: &quot;value3&quot;
},
</code></pre><h2 id="lab-13-create-an-image-with-onbuild-instruction">Lab #13: Create an image with ONBUILD instruction</h2>
<p>Format: <code>ONBUILD &lt;other instructions&gt;</code>.</p>
<p><code>ONBUILD</code> is a special instruction, followed by other instructions, such as <code>RUN</code>, <code>COPY</code>, etc., and these instructions will not be executed when the current image is built. Only when the current image is mirrored, the next level of mirroring will be executed.</p>
<p>The other instructions in <code>Dockerfile</code> are prepared to customize the current image. Only <code>ONBUILD</code> is prepared to help others customize themselves.</p>
<p>Suppose we want to make an image of the application written by Node.js. We all know that Node.js uses <code>npm</code> for package management, and all dependencies, configuration, startup information, etc. are placed in the <code>package.json</code> file. After getting the program code, you need to do <code>npm install</code> first to get all the required dependencies. Then you can start the app with <code>npm start</code>. Therefore, in general, <code>Dockerfile</code> will be written like this:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#204a87;font-weight:bold">FROM</span><span style="color:#4e9a06"> node:slim</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">RUN</span> mkdir /app<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">WORKDIR</span><span style="color:#4e9a06"> /app</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">COPY</span> ./package.json /app<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">RUN</span> <span style="color:#ce5c00;font-weight:bold">[</span> <span style="color:#4e9a06">&#34;npm&#34;</span>, <span style="color:#4e9a06">&#34;install&#34;</span> <span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">COPY</span> . /app/<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">CMD</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#34;npm&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;start&#34;</span> <span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">
</span></code></pre></div><p>Put this <code>Dockerfile</code> in the root directory of the Node.js project, and after building the image, you can use it to start the container. But what if we have a second Node.js project? Ok, then copy this <code>Dockerfile</code> to the second project. If there is a third project? Copy it again? The more copies of a file, the more difficult it is to have version control, so let&rsquo;s continue to look at the maintenance of such scenarios.</p>
<p>If the first Node.js project is in development, I find that there is a problem in this <code>Dockerfile</code>, such as typing a typo, or installing an extra package, then the developer fixes the <code>Dockerfile</code>, builds it again, and solves the problem. The first project is ok, but the second one? Although the original <code>Dockerfile</code> was copied and pasted from the first project, it will not fix their <code>Dockerfile</code> because the first project, and the <code>Dockerfile</code> of the second project will be automatically fixed.</p>
<p>So can we make a base image, and then use the base image for each project? In this way, the basic image is updated, and each project does not need to synchronize the changes of <code>Dockerfile</code>. After rebuilding, it inherits the update of the base image. Ok, yes, let&rsquo;s see the result. Then the above <code>Dockerfile</code> will become:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#204a87;font-weight:bold">FROM</span><span style="color:#4e9a06"> node:slim</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">RUN</span> mkdir /app<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">WORKDIR</span><span style="color:#4e9a06"> /app</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">CMD</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#34;npm&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;start&#34;</span> <span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">
</span></code></pre></div><p>Here we take out the project-related build instructions and put them in the subproject. Assuming that the name of the base image is <code>my-node</code>, the own <code>Dockerfile</code> in each project becomes:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#204a87;font-weight:bold">FROM</span><span style="color:#4e9a06"> my-node</span><span style="color:#a40000">
</span></code></pre></div><p>Yes, there is only one such line. When constructing a mirror with this one-line <code>Dockerfile</code> in each project directory, the three lines of the previous base image <code>ONBUILD</code> will start executing, successfully copy the current project code into the image, and execute for this project. <code>npm install</code>, generate an application image.</p>
<h3 id="lab">Lab</h3>
<pre><code># Dockerfile
FROM busybox
ONBUILD RUN echo &quot;You won't see me until later&quot;
</code></pre><h3 id="docker-build">Docker build</h3>
<pre><code>docker build -t me/no_echo_here .

Uploading context  2.56 kB
Uploading context
Step 0 : FROM busybox
Pulling repository busybox
769b9341d937: Download complete
511136ea3c5a: Download complete
bf747efa0e2f: Download complete
48e5f45168b9: Download complete
 ---&amp;gt; 769b9341d937
Step 1 : ONBUILD RUN echo &quot;You won't see me until later&quot;
 ---&amp;gt; Running in 6bf1e8f65f00
 ---&amp;gt; f864c417cc99
Successfully built f864c417cc9
</code></pre><p>Here the ONBUILD instruction is read, not run, but stored for later use.</p>
<pre><code># Dockerfile
FROM me/no_echo_here
</code></pre><p>docker build -t me/echo_here .
Uploading context  2.56 kB
Uploading context
Step 0 : FROM cpuguy83/no_echo_here</p>
<h3 id="executing-1-build-triggers">Executing 1 build triggers</h3>
<pre><code>Step onbuild-0 : RUN echo &quot;You won't see me until later&quot;
 ---&amp;gt; Running in ebfede7e39c8
You won't see me until later
 ---&amp;gt; ca6f025712d4
 ---&amp;gt; ca6f025712d4
Successfully built ca6f025712d4
</code></pre><h3 id="ubutu-rails">Ubutu Rails</h3>
<pre><code>FROM ubuntu:12.04

RUN apt-get update -qq &amp;&amp; apt-get install -y ca-certificates sudo curl git-core
RUN rm /bin/sh &amp;&amp; ln -s /bin/bash /bin/sh

RUN locale-gen  en_US.UTF-8
ENV LANG en_US.UTF-8
ENV LANGUAGE en_US.UTF-8
ENV LC_ALL en_US.UTF-8

RUN curl -L https://get.rvm.io | bash -s stable
ENV PATH /usr/local/rvm/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
RUN /bin/bash -l -c rvm requirements
RUN source /usr/local/rvm/scripts/rvm &amp;&amp; rvm install ruby
RUN rvm all do gem install bundler

ONBUILD ADD . /opt/rails_demo
ONBUILD WORKDIR /opt/rails_demo
ONBUILD RUN rvm all do bundle install
ONBUILD CMD rvm all do bundle exec rails server

</code></pre><p>This Dockerfile is doing some initial setup of a base image. Installs Ruby and bundler. Pretty typical stuff. At the end are the ONBUILD instructions.</p>
<p>ONBUILD ADD . /opt/rails_demo Tells any child image to add everything in the current directory to /opt/railsdemo. Remember, this only gets run from a child image, that is when another image uses this one as a base (or FROM). And it just so happens if you look in the repo I have a skeleton rails app in railsdemo that has it&rsquo;s own Dockerfile in it, we&rsquo;ll take a look at this later.</p>
<p>ONBUILD WORKDIR /opt/rails_demo Tells any child image to set the working directory to /opt/rails_demo, which is where we told ADD to put any project files</p>
<p>ONBUILD RUN rvm all do bundle install Tells any child image to have bundler install all gem dependencies, because we are assuming a Rails app here.</p>
<p>ONBUILD CMD rvm all do bundle exec rails server Tells any child image to set the CMD to start the rails server</p>
<p>Ok, so let&rsquo;s see this image build, go ahead and do this for yourself so you can see the output.</p>
<pre><code>git clone git@github.com:sangam14/docker_onbuild.git 
cd docker_onbuild
docker build -t sangam14/docker_onbuild .

Step 0 : FROM ubuntu:12.04
 ---&amp;gt; 9cd978db300e
Step 1 : RUN apt-get update -qq &amp;amp;&amp;amp; apt-get install -y ca-certificates sudo curl git-core
 ---&amp;gt; Running in b32a089b7d2d
# output supressed
ldconfig deferred processing now taking place
 ---&amp;gt; d3fdefaed447
Step 2 : RUN rm /bin/sh &amp;amp;&amp;amp; ln -s /bin/bash /bin/sh
 ---&amp;gt; Running in f218cafc54d7
 ---&amp;gt; 21a59f8613e1
Step 3 : RUN locale-gen  en_US.UTF-8
 ---&amp;gt; Running in 0fcd7672ddd5
Generating locales...
done
Generation complete.
 ---&amp;gt; aa1074531047
Step 4 : ENV LANG en_US.UTF-8
 ---&amp;gt; Running in dcf936d57f38
 ---&amp;gt; b9326a787f78
Step 5 : ENV LANGUAGE en_US.UTF-8
 ---&amp;gt; Running in 2133c36335f5
 ---&amp;gt; 3382c53f7f40
Step 6 : ENV LC_ALL en_US.UTF-8
 ---&amp;gt; Running in 83f353aba4c8
 ---&amp;gt; f849fc6bd0cd
Step 7 : RUN curl -L https://get.rvm.io | bash -s stable
 ---&amp;gt; Running in b53cc257d59c
# output supressed
---&amp;gt; 482a9f7ac656
Step 8 : ENV PATH /usr/local/rvm/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
 ---&amp;gt; Running in c4666b639c70
 ---&amp;gt; b5d5c3e25730
Step 9 : RUN /bin/bash -l -c rvm requirements
 ---&amp;gt; Running in 91469dbc25a6
# output supressed
Step 10 : RUN source /usr/local/rvm/scripts/rvm &amp;amp;&amp;amp; rvm install ruby
 ---&amp;gt; Running in cb4cdfcda68f
# output supressed
Step 11 : RUN rvm all do gem install bundler
 ---&amp;gt; Running in 9571104b3b65
Successfully installed bundler-1.5.3
Parsing documentation for bundler-1.5.3
Installing ri documentation for bundler-1.5.3
Done installing documentation for bundler after 3 seconds
1 gem installed
 ---&amp;gt; e2ea33486d62
Step 12 : ONBUILD ADD . /opt/rails_demo
 ---&amp;gt; Running in 5bef85f266a4
 ---&amp;gt; 4082e2a71c7e
Step 13 : ONBUILD WORKDIR /opt/rails_demo
 ---&amp;gt; Running in be1a06c7f9ab
 ---&amp;gt; 23bec71dce21
Step 14 : ONBUILD RUN rvm all do bundle install
 ---&amp;gt; Running in 991da8dc7f61
 ---&amp;gt; 1547bef18de8
Step 15 : ONBUILD CMD rvm all do bundle exec rails server
 ---&amp;gt; Running in c49139e13a0c
 ---&amp;gt; 23c388fb84c1
Successfully built 23c388fb84c1
</code></pre><h2 id="lab-14-create-an-image-with-healthcheck-instruction">Lab #14: Create an image with HEALTHCHECK instruction</h2>
<p>The HEALTHCHECK directive tells Docker how to determine if the state of the container is normal. This was a new directive introduced during Docker 1.12. Before the HEALTHCHECK directive, the Docker engine can only determine if the container is in a state of abnormality by whether the main process in the container exits. In many cases, this is fine, but if the program enters a deadlock state, or an infinite loop state, the application process does not exit, but the container is no longer able to provide services. Prior to 1.12, Docker did not detect this state of the container and would not reschedule it, causing some containers to be unable to serve, but still accepting user requests.</p>
<p>The syntax look like:</p>
<p><code>HEALTHCHECK [options] CMD &lt;command&gt;</code>:</p>
<p>The above syntax set the command to check the health of the container</p>
<h3 id="how-does-it-work">How does it work?</h3>
<p>When a HEALTHCHECK instruction is specified in an image, the container is started with it, the initial state will be starting, and will become healthy after the HEALTHCHECK instruction is checked successfully. If it fails for a certain number of times, it will become unhealthy.</p>
<h3 id="what-options-does-healthcheck-support">What options does HEALTHCHECK support?</h3>
<p><code>--interval=&lt;interval&gt;</code>: interval between two health checks, the default is 30 seconds;
<code>--timeout=&lt;time length&gt;</code>: The health check command runs the timeout period. If this time is exceeded, the health check is regarded as a failure. The default is 30 seconds.
<code>--retries=&lt;number&gt;</code>: When the specified number of consecutive failures, the container status is treated as unhealthy, the default is 3 times.
Like CMD, ENTRYPOINT, HEALTHCHECK can only appear once. If more than one is written, only the last one will take effect.</p>
<h3 id="pre-requisite-15">Pre-requisite:</h3>
<h3 id="tested-infrastructure-11">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-16">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="assignment-10">Assignment:</h3>
<ul>
<li>Writing a Dockerfile with HEALTHCHECK instruction</li>
<li>Build a Docker Image</li>
<li>Check that the nginx config file exists</li>
<li>Check if nginx is healthy</li>
<li>Make Docker container Unhealthy and check</li>
<li>Create the nginx.conf file and Making the container go healthy</li>
</ul>
<h3 id="writing-a-dockerfile-with-healthcheck-instruction">Writing a Dockerfile with HEALTHCHECK instruction</h3>
<p>Suppose we have a simple Web service. We want to add a health check to determine if its Web service is working. We can use curl to help determine the HEALTHCHECK of its Dockerfile:</p>
<pre><code>FROM nginx:1.13
HEALTHCHECK --interval=30s --timeout=3s \
  CMD curl -f http://localhost/ || exit 1
EXPOSE 80
</code></pre><p>Here we set a check every 3 seconds (here the interval is very short for the test, it should be relatively long), if the health check command does not respond for more than 3 seconds, it is considered a failure, and use curl -fs http://localhost/ || exit 1 As a health check command.</p>
<h3 id="building-docker-image-11">Building Docker Image</h3>
<pre><code>docker image build -t nginx:1.13 .
</code></pre><h3 id="check-that-the-nginx-config-file-exists">Check that the nginx config file exists</h3>
<pre><code>docker run --name=nginx-proxy -d \
        --health-cmd='stat /etc/nginx/nginx.conf || exit 1' \
        nginx:1.13
</code></pre><h3 id="check-if-nginx-is-healthy">Check if nginx is healthy</h3>
<pre><code>docker inspect --format='{{.State.Health.Status}}' nginx-proxy
</code></pre><h3 id="make-docker-container-unhealthy-and-check">Make Docker container Unhealthy and check</h3>
<pre><code>docker exec nginx-proxy rm /etc/nginx/nginx.conf
</code></pre><h3 id="check-if-nginx-is-healthy-1">Check if nginx is healthy</h3>
<pre><code>sleep 5; docker inspect --format='{{.State.Health.Status}}' nginx-proxy
</code></pre><h3 id="creating-the-nginxconf-file-and-making-the-container-go-healthy">Creating the nginx.conf file and Making the container go healthy</h3>
<pre><code>docker exec nginx-proxy touch /etc/nginx/nginx.conf
</code></pre><pre><code>sleep 5; docker inspect --format='{{.State.Health.Status}}' nginx-proxy
healthy
</code></pre><h2 id="lab-15-create-an-image-with-shell-instruction">Lab #15: Create an image with SHELL instruction</h2>
<h3 id="pre-requisite-17">Pre-requisite:</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="tested-infrastructure-12">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>    
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>    
  </tr>
</table>
<h3 id="how-does-it-work-1">How does it work?</h3>
<p>Format: <code>SHELL [&quot;executable&quot;, &quot;parameters&quot;]</code></p>
<ul>
<li>The SHELL instruction allows the default shell used for the shell form of commands to be overridden.
The default shell on Linux is <code>[&quot;/bin/sh&quot;, &quot;-c&quot;]</code>, and on Windows is <code>[&quot;cmd&quot;, &quot;/S&quot;, &quot;/C&quot;]</code>.
The SHELL instruction must be written in JSON form in a Dockerfile.</li>
<li>The SHELL instruction is particularly useful on Windows where there are two commonly used and quite different native shells: <code>cmd</code> and <code>powershell</code>, as well as alternate shells available including <code>sh</code>.</li>
<li>The SHELL instruction can appear multiple times.
Each SHELL instruction overrides all previous SHELL instructions, and affects all subsequent instructions.</li>
</ul>
<h3 id="create-a-dockerfile">Create a Dockerfile</h3>
<pre><code>FROM windowsservercore

# Executed as cmd /S /C echo default
RUN echo default

# Executed as cmd /S /C powershell -command Write-Host default
RUN powershell -command Write-Host default

# Executed as powershell -command Write-Host hello
SHELL [&quot;powershell&quot;, &quot;-command&quot;]
RUN Write-Host hello

# Executed as cmd /S /C echo hello
SHELL [&quot;cmd&quot;, &quot;/S&quot;&quot;, &quot;/C&quot;]
RUN echo hello
</code></pre><p>The following instructions can be affected by the <code>SHELL</code> instruction when the shell form of them is used in a Dockerfile: <code>RUN</code>, <code>CMD</code> and <code>ENTRYPOINT</code>.
The following example is a common pattern found on Windows which can be streamlined by using the SHELL instruction:</p>
<pre><code>RUN powershell -command Execute-MyCmdlet -param1 &quot;c:\foo.txt&quot;
</code></pre><p>The command invoked by docker will be:</p>
<pre><code>cmd /S /C powershell -command Execute-MyCmdlet -param1 &quot;c:\foo.txt&quot;
</code></pre><p>This is inefficient for two reasons.
First, there is an un-necessary <code>cmd.exe</code> command processor (aka shell) being invoked.
Second, each <code>RUN</code> instruction in the shell form requires an extra powershell <code>-command</code> prefixing the command.</p>
<p>To make it more efficient, one of two mechanisms can be employed.
One is to use the JSON form of the RUN command such as:</p>
<pre><code>RUN [&quot;powershell&quot;, &quot;-command&quot;, &quot;Execute-MyCmdlet&quot;, &quot;-param1 \&quot;c:\\foo.txt\&quot;&quot;]
</code></pre><p>While the JSON form is unambiguous and does not use the un-necessary <code>cmd.exe</code>, it does require more verbosity through double-quoting and escaping.
The alternate mechanism is to use the SHELL instruction and the shell form, making a more natural syntax for Windows users, especially when combined with the escape parser directive:</p>
<pre><code># escape=`

FROM windowsservercore
SHELL [&quot;powershell&quot;,&quot;-command&quot;]
RUN New-Item -ItemType Directory C:\Example
ADD Execute-MyCmdlet.ps1 c:\example\
RUN c:\example\Execute-MyCmdlet -sample 'hello world'
</code></pre><h3 id="build-an-image">Build an image</h3>
<pre><code>PS E:\docker\build\shell&gt; docker build -t shell .
Sending build context to Docker daemon 3.584 kB
Step 1 : FROM windowsservercore
 ---&gt; 5bc36a335344
Step 2 : SHELL powershell -command
 ---&gt; Running in 87d7a64c9751
 ---&gt; 4327358436c1
Removing intermediate container 87d7a64c9751
Step 3 : RUN New-Item -ItemType Directory C:\Example
 ---&gt; Running in 3e6ba16b8df9


Directory: C:\

Mode                LastWriteTime         Length Name
----                -------------         ------ ----
d-----         6/2/2016   2:59 PM                Example


 ---&gt; 1f1dfdcec085
Removing intermediate container 3e6ba16b8df9
Step 4 : ADD Execute-MyCmdlet.ps1 c:\example\
 ---&gt; 6770b4c17f29
Removing intermediate container b139e34291dc
Step 5 : RUN c:\example\Execute-MyCmdlet -sample 'hello world'
 ---&gt; Running in abdcf50dfd1f
Hello from Execute-MyCmdlet.ps1 - passed hello world
 ---&gt; ba0e25255fda
Removing intermediate container abdcf50dfd1f
Successfully built ba0e25255fda
PS E:\docker\build\shell&gt;
</code></pre><ul>
<li>The SHELL instruction could also be used to modify the way in which a shell operates.
For example, using <code>SHELL cmd /S /C /V:ON|OFF</code> on Windows, delayed environment variable expansion semantics could be modified.</li>
<li>The <code>SHELL</code> instruction can also be used on Linux should an alternate shell be required such <code>zsh</code>, <code>csh</code>, <code>tcsh</code> and others.</li>
<li>The <code>SHELL</code> feature was added in Docker 1.12.</li>
</ul>
<h2 id="lab-16-create-an-image-with-user-instruction">Lab 16: Create an image with USER Instruction</h2>
<p>The <code>USER</code> directive is similar to <code>WORKDIR</code>, which changes the state of the environment and affects future layers. <code>WORKDIR</code> is to change the working directory, and <code>USER</code> is the identity of the commands such as <code>RUN</code>, <code>CMD</code> and <code>ENTRYPOINT</code>.</p>
<p>Of course, like <code>WORKDIR</code>, <code>USER</code> just helps you switch to the specified user. This user must be pre-established, otherwise it cannot be switched.</p>
<p>Example:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#204a87;font-weight:bold">RUN</span> groupadd -r redis <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> useradd -r -g redis redis<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">USER</span><span style="color:#4e9a06"> redis</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">RUN</span> <span style="color:#ce5c00;font-weight:bold">[</span> <span style="color:#4e9a06">&#34;redis-server&#34;</span> <span style="color:#ce5c00;font-weight:bold">]</span><span style="color:#a40000">
</span></code></pre></div><p>If the script executed with <code>root</code> wants to change the identity during execution, such as wanting to run a service process with an already established user, don&rsquo;t use <code>su</code> or <code>sudo</code>, which requires a more cumbersome configuration. And often in the absence of TTY environment. It is recommended to use [<code>gosu</code>] (<a href="https://github.com/tianon/gosu)">https://github.com/tianon/gosu)</a>.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#8f5902;font-style:italic"># Create a redis user and use gosu to change another user to execute the command</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">RUN</span> groupadd -r redis <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> useradd -r -g redis redis<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#8f5902;font-style:italic"># download gosu</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">RUN</span> wget -O /usr/local/bin/gosu <span style="color:#4e9a06">&#34;https://github.com/tianon/gosu/releases/download/1.7/gosu-amd64&#34;</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> chmod +x /usr/local/bin/gosu <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span>    <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> gosu nobody true<span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#8f5902;font-style:italic"># Set CMD and execute it as another user</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">CMD</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#4e9a06">&#34;exec&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;gosu&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;redis&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;redis-server&#34;</span> <span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">
</span></code></pre></div><h3 id="pre-requisite-18">Pre-requisite:</h3>
<h3 id="tested-infrastructure-13">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-19">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h2 id="how-is-entrypoint-different-from-the-run-instruction">How is ENTRYPOINT different from the RUN instruction?</h2>
<h3 id="tested-infrastructure-14">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>
  </tr>
</table>
<h3 id="pre-requisite-20">Pre-requisite</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="what-is-entrypoint-meant-for">What is ENTRYPOINT meant for?</h3>
<p>ENTRYPOINT is meant to provide the executable while CMD is to pass the default arguments to the executable.
To understand it clearly, let us consider the below Dockerfile:</p>
<p><img src="https://raw.githubusercontent.com/collabnix/dockerlabs/master/beginners/dockerfile/dockerfile-1.png" alt="My Image"></p>
<p>If you try building this Docker image using <code>docker build command</code> -</p>
<p><img src="https://raw.githubusercontent.com/collabnix/dockerlabs/master/beginners/dockerfile/dockerfile-2.png" alt="My Image"></p>
<p>Let us run this image without any argument.</p>
<p><img src="https://raw.githubusercontent.com/collabnix/dockerlabs/master/beginners/dockerfile/dockerfile-3.png" alt="My Image"></p>
<p>Let&rsquo;s run it passing a command line argument</p>
<p><img src="https://raw.githubusercontent.com/collabnix/dockerlabs/master/beginners/dockerfile/dockerfile-4.png" alt="My Image"></p>
<p>This clearly state that ENTRYPOINT is meant to provide the executable while CMD is to pass the default arguments to the executable.</p>
<h2 id="writing-dockerfile-with-hello-python-script-added">Writing Dockerfile with Hello Python Script Added</h2>
<h3 id="pre-requisite-21">Pre-requisite:</h3>
<ul>
<li>Create an account with <a href="https://hub.docker.com">DockerHub</a></li>
<li>Open <a href="https://labs.play-with-docker.com/">PWD</a> Platform on your browser</li>
<li>Click on <strong>Add New Instance</strong> on the left side of the screen to bring up Alpine OS instance on the right side</li>
</ul>
<h3 id="tested-infrastructure-15">Tested Infrastructure</h3>
<table class="tg">
  <tr>
    <th class="tg-yw4l"><b>Platform</b></th>
    <th class="tg-yw4l"><b>Number of Instance</b></th>
    <th class="tg-yw4l"><b>Reading Time</b></th>    
  </tr>
  <tr>
    <td class="tg-yw4l"><b> Play with Docker</b></td>
    <td class="tg-yw4l"><b>1</b></td>
    <td class="tg-yw4l"><b>5 min</b></td>    
  </tr>  
</table>
<pre><code>[node1] (local) root@192.168.0.38 ~
$ mkdir /test
</code></pre><pre><code>[node1] (local) root@192.168.0.38 ~
$ cd /test
</code></pre><pre><code>[node1] (local) root@192.168.0.38 /test
$ pwd
/test
</code></pre><p>Open a file named &lsquo;Dockerfile&rsquo; with a text editor.</p>
<pre><code>[node1] (local) root@192.168.0.38 /test
$ vi Dockerfile
</code></pre><h2 id="writing-a-dockerfile">Writing a Dockerfile</h2>
<h4 id="setting-a-base-image-using-from-keyword">Setting a Base Image using FROM keyword</h4>
<pre><code>FROM ubuntu
</code></pre><p>Thus, our image would start building taking base as Ubuntu.</p>
<h4 id="defining-the-author-optional-using-maintainer-keyword">Defining the Author (Optional) using MAINTAINER keyword</h4>
<pre><code>MAINTAINER Prashansa Kulshrestha
</code></pre><h4 id="running-a-commands-on-the-base-image-to-form-new-layers-using-run-keyword">Running a commands on the base image to form new layers using RUN keyword</h4>
<pre><code>RUN apt-get update
RUN apt-get install python
</code></pre><p>Since, the base image was Ubuntu, we can run Ubuntu commands here. These commands above install python over Ubuntu.</p>
<h4 id="adding-a-simple-hello-world-printing-python-file-to-the-containers-file-system-using-add-command">Adding a simple Hello World printing python file to the container&rsquo;s file system using ADD command</h4>
<pre><code>ADD hello.py /home/hello.py
ADD a.py /home/a.py
</code></pre><p>We will place our hello.py and a.py files in the newly created directory itself (/test). ADD command would copy it from /test (current working directory) of host system
to container&rsquo;s filesystem at /home. The destination directories in the container would be create incase they don&rsquo;t exist.</p>
<p>Code for hello.py:</p>
<pre><code>print (&quot;Hello World&quot;)
</code></pre><p>Code for a.py:</p>
<pre><code>print (&quot;Overriden Hello&quot;)
</code></pre><h4 id="specifying-default-execution-environment-for-the-container-using-cmd-and-entrypoint">Specifying default execution environment for the container using CMD and ENTRYPOINT</h4>
<p>These keywords let us define the default execution environment for a container when it just initiates from an image or just starts.
If a command is specified with CMD keyword, it is the first command which a container executes as soon as it instantiates from an image. However, command and arguments provided with CMD can be overridden if user specifies his own commands while running the container using &lsquo;docker run&rsquo; command.&rsquo;</p>
<p>ENTRYPOINT helps to create a executable container and the commands and arguments provided with this keyword are not overridden.</p>
<p>We can also provide the default application environment using ENTRYPOINT and default arguments to be passed to it via CMD keyword. This can be done as follows:</p>
<pre><code>CMD [&quot;/home/hello.py&quot;]
ENTRYPOINT [&quot;python&quot;]
</code></pre><p>So, default application mode of container would be python and if no other filename is provided as argument to it then it will execute hello.py placed in its /home directory.</p>
<p>Benefit of this is that user can choose some other file to run with the same application at runtime, that is, while launching the container.</p>
<p>So, our overall Dockerfile currently looks like this:</p>
<pre><code>FROM ubuntu
MAINTAINER Prashansa Kulshrestha
RUN apt-get update
RUN apt-get install -y python
ADD hello.py /home/hello.py
ADD a.py /home/a.py
CMD [&quot;/home/hello.py&quot;]
ENTRYPOINT [&quot;python&quot;]
</code></pre><h2 id="building-a-dockerfile">Building a Dockerfile</h2>
<p>To create an image from the Dockerfile, we need to build it. This is done as follows:</p>
<pre><code>[node1] (local) root@192.168.0.38 /test
$ docker build -t pythonimage .
</code></pre><p>The option -t lets us tag our image with a name we desire. So, here we have named our image as &lsquo;pythonimage&rsquo;.
The &lsquo;.&rsquo; in the end specifies current working directory i.e. /test. We initiated our build process from here. Docker would find the file named &lsquo;Dockerfile&rsquo; in the current directory to process the build.</p>
<h2 id="running-a-container-from-the-newly-built-image">Running a container from the newly built image</h2>
<pre><code>[node1] (local) root@192.168.0.38 /test
$ docker run --name test1 pythonimage
Hello World
[node1] (local) root@192.168.0.38 /test
$
</code></pre><p>So, here /home/hello.py file placed in the container executed and displayed the output &lsquo;Hello World&rsquo;, since it was specified as default with CMD keyword.</p>
<pre><code>[node1] (local) root@192.168.0.38 /test
$ docker run --name test2 pythonimage /home/a.py
Overriden Hello 
[node1] (local) root@192.168.0.38 /test
$
</code></pre><p>Here, user specified another file to be run with python (default application for this container). So, the file specified with CMD got overridden and we obtained the output from /home/a.py.</p>

        <div class="section-index">
    
    
    
    
    
    <hr class="panel-line">
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    
</div>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/docker-community-leaders/docs/issues/new/?title=Page%20is%20helpful&labels=kind%2Fmeta">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/docker-community-leaders/docs/issues/new/?title=Page%20needs%20improvement&labels=kind%2Fmeta">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified 02.02.4042: <a  href="https://github.com/docker-community-leaders/dockercommunity/commit/5a1f002a2b9dc5f2be71b81d7c4430b807d6cb5d">Update _index.md (5a1f002)</a>
</div>
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Docker users Group" aria-label="Docker users Group">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://groups.google.com/g/docker-dev">
      <i class="fa fa-users"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/dockercommunity">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow questions" aria-label="Stack Overflow questions">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/*docker*">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Docker GitHub repo" aria-label="Docker GitHub repo">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/docker-community-leaders/dockercommunity">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Docker Slack channels" aria-label="Docker Slack channels">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://dockercommunity.slack.com/">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Docker developers Group" aria-label="Docker developers Group">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://www.docker.com/products/developer-tools">
      <i class="fa fa-users"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 The Docsy Authors All Rights Reserved</small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank">Privacy Policy</a></small>
	
		<p class="mt-2"><a href="../../../../../about/">About Docker Community</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>







<script src="../../../../../js/main.min.3f977db73b73c3ce452881894e84f9a709331842c2820a135e9829c6c4c76134.js" integrity="sha256-P5d9tztzw85FKIGJToT5pwkzGELCggoTXpgpxsTHYTQ=" crossorigin="anonymous"></script>






<script type="text/javascript" async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)'], ['\\[','\\]']],
      displayMath: [['$$','$$']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
           extensions: ["AMSmath.js", "AMSsymbols.js"] }
    }
    });
    MathJax.Hub.Queue(function() {
      
      
      
      var all = MathJax.Hub.getAllJax(), i;
      for(i = 0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });

    MathJax.Hub.Config({
    
    TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>

  </body>
</html>